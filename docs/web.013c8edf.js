parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"rDCW":[function(require,module,exports) {

},{}],"ydoQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scanner=void 0;var t=function(){function t(t){this.scanner=t,this.pushedBackTokens=[],this.currentToken=this.scanner()}return t.prototype.current=function(){return this.currentToken},t.prototype.readNext=function(){var t=this.pushedBackTokens.shift(),e=t||this.scanner();this.currentToken=e},t.prototype.pushBack=function(t){this.pushedBackTokens.unshift(this.current()),this.currentToken=t},t.prototype.nextToken=function(){var t=this.current();this.readNext();var e=this.current();return this.pushBack(t),e},t}();exports.Scanner=t;
},{}],"hBUZ":[function(require,module,exports) {
"use strict";var r=this&&this.__extends||function(){var r=function(t,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}r(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SymbolTableError=exports.CheckerError=exports.ParserError=exports.ScannerError=void 0;var t=function(t){function o(r,o){var n=t.call(this,r)||this;return n.location=o,n}return r(o,t),o}(Error);exports.ScannerError=t;var o=function(t){function o(r,o){var n=t.call(this,r)||this;return n.location=o,n}return r(o,t),o}(Error);exports.ParserError=o;var n=function(t){function o(r,o){var n=t.call(this,r)||this;return n.location=o,n}return r(o,t),o}(Error);exports.CheckerError=n;var e=function(t){function o(r,o){var n=t.call(this,r)||this;return n.location=o,n}return r(o,t),o}(Error);exports.SymbolTableError=e;
},{}],"Ncnj":[function(require,module,exports) {
"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}).apply(this,arguments)},e=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,o,i=t.call(r),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s},t=this&&this.__spread||function(){for(var r=[],t=0;t<arguments.length;t++)r=r.concat(e(arguments[t]));return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createScannerFunc=exports.KEYWORDS=exports.STORAGE_CLASSES=exports.TYPE_QUALIFIERS=exports.TYPE_SIGNED_UNSIGNED=exports.TYPE_SPECIFIERS_UNDERSCORE=exports.TYPE_SPECIFIERS_ARITHMETIC=exports.PUNCTUATORS=exports.ASSIGNMENT_OPERATORS=exports.BINARY_OPERATORS=void 0;var n=require("./error");if(exports.BINARY_OPERATORS=["*","/","%","+","-","<<",">>","<",">","<=",">=","==","!=","&","^","|","&&","||"],exports.ASSIGNMENT_OPERATORS=["=","*=","/=","%=","+=","-=","<<=",">>=","&=","^=","|="],exports.PUNCTUATORS=t(exports.BINARY_OPERATORS,exports.ASSIGNMENT_OPERATORS,["[","]","(",")",".","->","++","--","~","!","?",":",",","{","}",";","..."]),exports.PUNCTUATORS.filter(function(r,e){return exports.PUNCTUATORS.find(function(t,n){return r===t&&e!==n})}).length>0)throw new Error("Duplicates found");function o(e){var o=0,i=e.length;function s(){return e[o]}function u(r){return o+r<i?e[o+r]:void 0}function f(){return u(1)}var a=1,c=1;function l(r){void 0===r&&(r=1);for(var e=0;e<r;e++)"\n"===s()?(a+=1,c=1):c++,o++}var p=o,E=c,S=a;function x(){p=o,E=c,S=a}function R(){return e.slice(p,o)}function I(){return{pos:E,line:S,length:o-p}}function v(r){throw new n.ScannerError(""+r,I())}function _(r){return void 0!==r&&1===r.length&&"0123456789".indexOf(r)>-1}function T(r){return void 0!==r&&1===r.length&&"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_".indexOf(r)>-1}return function(){if(function r(){for(;o<i&&(" "===(e=s())||"\n"===e||"\r"===e||"\t"===e);)l();var e;if("/"===s()&&"*"===f()){for(l(2);;){if("*"===s()&&"/"===f()){l(2);break}l()}r()}if("/"===s()&&"/"===f()){for(l(2);"\n"!==s();)l();r()}}(),o>=i)return r({type:"end"},I());if(T(s()))return function(){for(x();_(s())||T(s());)l();var e=R();0===e.length&&v("Unexpected state");var t=exports.KEYWORDS.find(function(r){return r===e});return t?r({type:t},I()):r(r({type:"identifier"},I()),{text:e})}();if(_(s()))return function(){if(x(),"0"===s()&&"x"===f()){for(l(2);void 0!==(t=s())&&1===t.length&&"0123456789abcdefABCDEF".indexOf(t)>-1;)l();var e=R().slice(2);return r(r({type:"const-expression"},I()),{subtype:"int",value:parseInt(e,16)})}var t;if("0"===s()&&"b"===f()){for(l(2);"0"===s()||"1"===s();)l();var n=R().slice(2);return r(r({type:"const-expression"},I()),{subtype:"int",value:parseInt(n,2)})}for(var o=!1;;)if("."===s()){if(o)break;o=!0,l()}else{if(!_(s()))break;l()}var i=R();return r(r({type:"const-expression"},I()),o?{subtype:"float",value:parseFloat(i)}:{subtype:"int",value:parseInt(i)})}();if("'"===s())return function(){x(),l();var e=s();return e||v("Failed to parse char, no char"),l(),"'"!==s()&&v("Failed to parse char, expecting closing '"),l(),r(r({type:"const-expression"},I()),{subtype:"char",value:e.charCodeAt(0)})}();if('"'===s())return function(){for(x(),l();'"'!==s();)l();l();var e=R().slice(1,-1);return r(r({type:"string-literal"},I()),{value:e})}();var e=function(){if(x(),"."===s()&&"."===u(1)&&"."===u(2))return l(3),r({type:"..."},I());for(var e=0,n=t(exports.PUNCTUATORS).filter(function(r){return"..."!==r});;){var o=t(n);if(0===(n=n.filter(function(r){return r[e]&&r[e]===u(e)})).length){if(e>0)if(0===o.length)v("Internal error 1");else{var i=o.filter(function(r){return r.length===e});if(1===i.length)return l(e),R()!==i[0]&&v("Internal error 2"),r({type:i[0]},I())}return null}if(1===n.length)return l(e+1),R()!==n[0]&&(console.warn(R(),n),v("Internal error 3")),r({type:n[0]},I());e++}}();if(e)return e;v("Unknown symbols")}}exports.TYPE_SPECIFIERS_ARITHMETIC=["char","short","int","long","float","double"],exports.TYPE_SPECIFIERS_UNDERSCORE=["_Bool","_Complex","_Imaginary"],exports.TYPE_SIGNED_UNSIGNED=["signed","unsigned"],exports.TYPE_QUALIFIERS=["restrict","const","volatile"],exports.STORAGE_CLASSES=["typedef","extern","static","auto","register"],exports.KEYWORDS=t(exports.TYPE_SPECIFIERS_ARITHMETIC,exports.TYPE_SPECIFIERS_UNDERSCORE,exports.TYPE_SIGNED_UNSIGNED,exports.TYPE_QUALIFIERS,exports.STORAGE_CLASSES,["break","case","continue","default","do","else","enum","for","goto","if","return","sizeof","struct","switch","union","void","while","inline"]),exports.createScannerFunc=o;
},{"./error":"hBUZ"}],"yh9p":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"JgNJ":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"REa7":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"dskh":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"yh9p","ieee754":"JgNJ","isarray":"REa7","buffer":"dskh"}],"QMHA":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(t){return(e="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function n(t,r){return t(r={exports:{}},r.exports),r.exports}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,u=n(function(r){var n=function(){function r(n,u,i,f){"object"===e(u)&&(i=u.depth,f=u.prototype,u.filter,u=u.circular);var c=[],l=[],a=void 0!==t;return void 0===u&&(u=!0),void 0===i&&(i=1/0),function n(i,s){if(null===i)return null;if(0==s)return i;var p,y;if("object"!=e(i))return i;if(r.__isArray(i))p=[];else if(r.__isRegExp(i))p=new RegExp(i.source,o(i)),i.lastIndex&&(p.lastIndex=i.lastIndex);else if(r.__isDate(i))p=new Date(i.getTime());else{if(a&&t.isBuffer(i))return p=t.allocUnsafe?t.allocUnsafe(i.length):new t(i.length),i.copy(p),p;void 0===f?(y=Object.getPrototypeOf(i),p=Object.create(y)):(p=Object.create(f),y=f)}if(u){var b=c.indexOf(i);if(-1!=b)return l[b];c.push(i),l.push(p)}for(var g in i){var v;y&&(v=Object.getOwnPropertyDescriptor(y,g)),v&&null==v.set||(p[g]=n(i[g],s-1))}return p}(n,i)}function n(t){return Object.prototype.toString.call(t)}function o(t){var r="";return t.global&&(r+="g"),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),r}return r.clonePrototype=function(t){if(null===t)return null;var r=function(){};return r.prototype=t,new r},r.__objToStr=n,r.__isDate=function(t){return"object"===e(t)&&"[object Date]"===n(t)},r.__isArray=function(t){return"object"===e(t)&&"[object Array]"===n(t)},r.__isRegExp=function(t){return"object"===e(t)&&"[object RegExp]"===n(t)},r.__getRegExpFlags=o,r}();r.exports&&(r.exports=n)}),i=function(t,r){return t=t||{},Object.keys(r).forEach(function(e){void 0===t[e]&&(t[e]=u(r[e]))}),t},f=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],c={nul:0,control:0},l=function(t){return t=i(t||{},c),function(r){return a(r,t)}};function a(t,r){if("string"!=typeof t)return s(t,r);for(var e=0,n=0;n<t.length;n++){var o=s(t.charCodeAt(n),r);if(o<0)return-1;e+=o}return e}function s(t,r){return 0===t?r.nul:t<32||t>=127&&t<160?r.control:p(t)?0:1+(t>=4352&&(t<=4447||9001==t||9002==t||t>=11904&&t<=42191&&12351!=t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}function p(t){var r,e=0,n=f.length-1;if(t<f[0][0]||t>f[n][1])return!1;for(;n>=e;)if(r=Math.floor((e+n)/2),t>f[r][1])e=r+1;else{if(!(t<f[r][0]))return!0;n=r-1}return!1}var y=o=function(t,r,e){var n,u,i,f;if(null==e&&(e={}),u="number"==typeof t){var c=[t,r];r=c[0],t=c[1]}return"string"==typeof e&&(e={char:e}),null==e.char&&(e.char=" "),null==e.strip&&(e.strip=!1),"string"!=typeof t&&(t=t.toString()),f=null,o="",e.colors&&(n=/\x1B\[(?:[0-9]{1,2}(?:;[0-9]{1,2})?)?[m|K]/g,f=t.replace(n,"")),(i=e.fixed_width?r-(f||t).length:r-l(e.wcwidth_options)(f||t))<0?e.strip?u?t.substr(-1*r):t.substr(0,r):t:(o+=e.char.repeat(i),u?o+t:t+o)},b=y;exports.default=b;
},{"buffer":"dskh"}],"b6CA":[function(require,module,exports) {
"use strict";var t=this&&this.__values||function(t){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&t[r],o=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SymbolTable=void 0;var e=r(require("pad")),o=require("./error"),n=function(){function r(t){this.locator=t,this.translationUnitDeclarations=[],this.autoInFunctionDeclarations=null,this.declarations=[],this.currentGlobalId=1,this.declaratorIdToDeclaratorMap=new Map}return r.prototype.enterScope=function(){this.declarations.push([])},r.prototype.enterFunctionScope=function(){if(this.enterScope(),null!==this.autoInFunctionDeclarations)throw new Error("Internal error: already in function scope");this.autoInFunctionDeclarations=[]},r.prototype.addEntry=function(t){var r=this.declarations[this.declarations.length-1];if(r.find(function(r){return r.identifier===t.identifier})){var e=this.locator.get(t);if(!e)throw new Error("Duplicate declaration "+t.identifier+" and not able to find location for previous declaration");throw new o.SymbolTableError("Duplicate declaration "+t.identifier,e)}r.push(t),"extern"!==t.storageSpecifier&&"static"!==t.storageSpecifier&&this.autoInFunctionDeclarations?this.autoInFunctionDeclarations.push(t.declaratorId):this.translationUnitDeclarations.push(t.declaratorId),this.declaratorIdToDeclaratorMap.set(t.declaratorId,t)},r.prototype.getTranslationUnittDeclarations=function(){return this.translationUnitDeclarations},r.prototype.leaveScope=function(){if(!this.declarations.pop())throw new Error("Unable to leave scope, no scope at all")},r.prototype.leaveFunctionScope=function(){if(!this.declarations.pop())throw new Error("Unable to leave scope, no scope at all");var t=this.autoInFunctionDeclarations;if(this.autoInFunctionDeclarations=null,null===t)throw new Error("Internal error: unable to leave function scope because did no enter there");return t},r.prototype.lookupInScopes=function(r){var e,o,n,a;try{for(var i=t(this.declarations.slice().reverse()),l=i.next();!l.done;l=i.next()){var c=l.value;try{for(var s=(n=void 0,t(c)),u=s.next();!u.done;u=s.next()){var p=u.value;if(p.identifier===r)return p}}catch(d){n={error:d}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}}}catch(f){e={error:f}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(e)throw e.error}}},r.prototype.isIdentifierAlreadyDefinedInCurrentScope=function(r){var e,o,n=this.declarations.slice().pop();if(!n)throw new Error("No current scope!");try{for(var a=t(n),i=a.next();!i.done;i=a.next()){if(i.value.identifier===r)return!0}}catch(l){e={error:l}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(e)throw e.error}}return!1},r.prototype.createDeclaratorId=function(){var t=e.default(4,""+this.currentGlobalId.toString(16).toUpperCase(),"0");return this.currentGlobalId++,t},r.prototype.getDeclaratorsMap=function(){return this.declaratorIdToDeclaratorMap},r}();exports.SymbolTable=n;
},{"pad":"QMHA","./error":"hBUZ"}],"CpA7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UNARY_OPERATORS=void 0,exports.UNARY_OPERATORS=["&","*","+","-","~","!"];
},{}],"EVR9":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var a in r=arguments[t])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createExpressionParser=void 0;var r=require("./scanner.func"),t=require("./parser.definitions"),n=require("./error"),a=10;function s(e,r){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.find(function(e){return e===r.type})}switch(e){case 1:return t("*","/","%");case 2:return t("+","-");case 3:return t("<<",">>");case 4:return t("<",">","<=",">=");case 5:return t("==","!=");case 6:return t("&");case 7:return t("^");case 8:return t("|");case 9:return t("&&");case 10:return t("||");default:throw new Error("Unknown prio level")}}function i(i,p,o,u){function c(e){throw new n.ParserError(""+e,i.current())}function f(){for(var r=function(){var r=i.current();if("identifier"===r.type){i.readNext();var t=u.lookupInScopes(r.text);t||c("Unable to find declaration for '"+r.text+"'");var n={type:"identifier",value:r.text,declaratorNodeId:t.declaratorId};return p.set(n,r),n}if("const-expression"===r.type)return i.readNext(),n={type:"const",subtype:r.subtype,value:r.value},p.set(n,r),n;if("string-literal"===r.type)return i.readNext(),n={type:"string-literal",value:r.value},p.set(n,r),n;if("("===r.type){i.readNext();var a=N(),s=i.current();return")"!==s.type&&c("Expecting closing brace"),i.readNext(),p.set(a,e(e({},r),{length:s.pos-r.pos+s.length})),a}c("Expecting primary-expression")}();;){var t=i.current();if("["===t.type){i.readNext();var n=N();"]"!==(s=i.current()).type&&c("Expected ]"),i.readNext();var a={type:"subscript operator",target:r,index:n};p.set(a,e(e({},t),{length:s.pos-t.pos+s.length})),r=a}else if("("===t.type){i.readNext();var s,o=")"!==i.current().type?y():[];")"!==(s=i.current()).type&&c("Postfix-expression expected ) "),i.readNext();a={type:"function call",target:r,args:o};p.set(a,e(e({},t),{length:s.pos-t.pos+s.length})),r=a}else if("."===t.type||"->"===t.type){i.readNext();var f=i.current();"identifier"!==f.type&&c("Expected identifier"),i.readNext();a={type:"."===t.type?"struct access":"struct pointer access",identifier:f.text,target:r};p.set(a,e({},t)),r=a}else if("++"===t.type){i.readNext();a={type:"postfix ++",target:r};p.set(a,e({},t)),r=a}else{if("--"!==t.type)break;i.readNext();a={type:"postfix --",target:r};p.set(a,e({},t)),r=a}}return r}function y(){for(var e=[];;){var r=v();if(e.push(r),","!==i.current().type)break;i.readNext()}return e}function d(){var r=i.current(),n=t.UNARY_OPERATORS.find(function(e){return e===r.type});if(n){i.readNext();var a={type:"unary-operator",operator:n,target:s=d()};return p.set(a,e({},r)),a}if("++"===r.type||"--"===r.type){i.readNext();var s=d();a={type:"++"===r.type?"prefix ++":"prefix --",target:s};return p.set(a,e({},r)),a}if("sizeof"===r.type){i.readNext();a=void 0;if("("===i.current().type)if(i.readNext(),o.isCurrentTokenLooksLikeTypeName()){var u=o.readTypeName();")"!==i.current().type&&c("Expected )"),i.readNext(),a={type:"sizeof typename",typename:u}}else{var y=N();")"!==i.current().type&&c("Expected )"),i.readNext(),a={type:"sizeof expression",expression:y}}else a={type:"sizeof expression",expression:d()};return p.set(a,e(e({},r),{length:i.current().pos-r.pos})),a}return f()}function x(){return function r(t){if(0===t)return function r(){var t=i.current();if("("!==t.type)return d();if(i.readNext(),o.isCurrentTokenLooksLikeTypeName()){var n=o.readTypeName();")"!==i.current().type&&c("Expected )"),i.readNext();var a={type:"cast",typename:n,target:r()};return p.set(a,e(e({},t),{length:i.current().pos-t.pos})),a}return i.pushBack(t),d()}();for(var n=r(t-1);;){var a=i.current(),u=s(t,a);if(!u)return n;i.readNext();var f={type:"binary operator",operator:u,left:n,right:r(t-1)};p.set(f,a),n=f}}(a)}function l(){var r=i.current(),t=x();if("?"===i.current().type){i.readNext();var n=N();":"!==i.current().type&&c("Expecting colon"),i.readNext();var a={type:"conditional expression",condition:t,iftrue:n,iffalse:l()};return p.set(a,e(e({},r),{length:i.current().pos-r.pos})),a}return t}function v(){var e=l(),t=i.current(),n=r.ASSIGNMENT_OPERATORS.find(function(e){return t.type===e});if(!n)return e;i.readNext();var a={type:"assignment",operator:n,lvalue:e,rvalue:v()};return p.set(a,t),a}function N(){var r=i.current(),t=v();if(","===i.current().type){i.readNext();var n={type:"expression with sideeffect",sizeeffect:t,effectiveValue:N()};return p.set(n,e(e({},r),{length:i.current().pos-r.pos})),n}return t}return{readExpression:N,readAssignmentExpression:v,readConstantExpression:function(){return l()}}}exports.createExpressionParser=i;
},{"./scanner.func":"Ncnj","./parser.definitions":"CpA7","./error":"hBUZ"}],"Htl3":[function(require,module,exports) {
"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)},t=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,i,a=t.call(e),o=[];try{for(;(void 0===r||r-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(c){i={error:c}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__spread||function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(t(arguments[r]));return e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createParser=void 0;var a=require("./scanner.func"),o=require("./error"),c=require("./parser.expression");function s(s,p,u){function f(e){throw new o.ParserError(""+e,s.current())}function d(e){s.current().type!==e&&f("Expected "+e),s.readNext()}var l=c.createExpressionParser(s,p,{isCurrentTokenLooksLikeTypeName:E,readTypeName:A},u);function y(){var e=s.current();return a.TYPE_QUALIFIERS.find(function(r){return e.type===r})}function v(){var e=s.current();return"void"===e.type?e.type:void 0}function h(){var e=s.current();return a.TYPE_SPECIFIERS_ARITHMETIC.find(function(r){return r===e.type})}function x(){var e=s.current();return a.TYPE_SPECIFIERS_UNDERSCORE.find(function(r){return r===e.type})}function g(){var e=s.current();return a.STORAGE_CLASSES.find(function(r){return r===e.type})}function m(){var e=s.current();return"inline"===e.type?e.type:void 0}function N(){var e=s.current();if("identifier"===e.type){var r=u.lookupInScopes(e.text);if(r&&"typedef"===r.storageSpecifier)return r.typename}}function b(){var e=s.current();return!!(v()||h()||x()||y()||"signed"===e.type||"unsigned"===e.type||"struct"===e.type||"union"===e.type||"enum"===e.type||N())}function E(){return b()}function S(){return!!(b()||g()||m())}function T(e){return e.filter(function(r,t){return e.find(function(e,n){return r===e&&t!==n})}).length>0}function w(){for(var e,t=[],n=void 0,i=!0,a=null,o=null,c=s.current();;){var u=s.current(),d=y(),l=h(),b=x(),E=N(),S=g(),w=m();if(d)s.readNext(),t.push(d);else if(v())n&&f("Already have type specifier"),s.readNext(),n={type:"void",const:!1},i=!1;else if(l)s.readNext(),n?("arithmetic"!==n.type&&f("Already have non arithmetic type specifier"),i||f("Not allowed to add specifiers to this type"),"int"===n.arithmeticType&&"long"===l?n.arithmeticType="int":f("TODO: Add 'long long' and others, modify specifier s="+n.arithmeticType+" m="+l+" ")):n={type:"arithmetic",arithmeticType:"long"===l?"int":l,const:!1,signedUnsigned:null};else if(b)n&&f("Already have type specifier"),f("Not implemented yet");else if("signed"===u.type||"unsigned"===u.type)e&&f("Already have signed/unsigned"),s.readNext(),e=u.type;else if("struct"===u.type)f("Not implemented yet");else if("union"===u.type)f("Not implemented yet");else if("enum"===u.type)f("Not implemented yet");else if(E)n&&f("Already have specifier"),n=r({},E),s.readNext(),i=!1;else if(S)a&&f("Already have storage class specifier "+a),s.readNext(),a=S;else{if(!w)break;o&&f("Already have function specifier"),s.readNext(),o=w}}return n||f("Expect specifier"),e&&("arithmetic"!==n.type&&f("Expecting arithmetic type for signed/unsigned"),n.signedUnsigned=e),t.indexOf("const")>-1&&("void"===n.type&&f("Unable to add const for void"),n.const=!0),T(t)&&f("Got duplicated qualifiers"),p.set(n,r(r({},c),{length:s.current().pos-c.pos})),{specifier:n,storageClassSpecifier:a,functionSpecifier:o}}function k(){var n=function e(){var t=s.current();if("*"!==t.type)return function(e){return e};s.readNext();for(var n=[];;){var i=y();if(!i)break;s.readNext(),n.push(i)}T(n)&&f("Qualifiers have duplicates");var a=n.indexOf("const")>-1,o=e();return function(e){var n={type:"pointer",const:a,pointsTo:e};return p.set(n,r(r({},t),{length:s.current().pos-t.pos})),o(n)}}(),i=function(){var n=function(e){return e},i=null,a=function(){var e=s.current(),a=!i||i.abstract;if("("===e.type){s.readNext();var o=s.current();if(i||")"===o.type||S()){if(!a&&!S()&&")"!==s.current().type)throw new Error("TODO Read identifier list for K&R notation");var c=t(")"===s.current().type?[[],!1]:function(){if("void"===s.current().type)return s.readNext(),[[],!1];var e=[],r=!1;for(;;){if("..."===s.current().type){r=!0,s.readNext();break}var t=O();if(e.push(t),","!==s.current().type)break;s.readNext()}return[e,r]}(),2),d=c[0],y=c[1],v=s.current();")"!==v.type&&f("Expected )"),s.readNext();var h=n;n=function(t){var n={type:"function",const:!0,haveEndingEllipsis:y,parameters:d,returnType:t};return p.set(n,r(r({},e),{length:v.pos-e.pos})),h(n)}}else i=k(),")"!==s.current().type&&f("Expected )"),s.readNext()}else if("["===e.type){s.readNext();var x=null;if("*"===s.current().type){var g="]"===s.nextToken().type;g?(x="*",s.readNext()):x=l.readAssignmentExpression()}else"]"!==s.current().type&&(x=l.readAssignmentExpression());var m=s.current();"]"!==m.type&&f("Expected ]"),s.readNext();var N=n;n=function(t){var n={type:"array",const:!0,size:x,elementsTypename:t};return p.set(n,r(r({},e),{length:m.pos-e.pos})),N(n)}}else{if("identifier"!==e.type){if(i){var b=i;return b.abstract?{value:{abstract:!0,chain:function(e){return b.chain(n(e))}}}:{value:{abstract:!1,chain:function(e){return b.chain(n(e))}}}}return{value:{abstract:!0,chain:function(e){return n(e)}}}}s.readNext();var E=s.current();i={abstract:!1,chain:function(t){var n={type:"declarator",functionSpecifier:null,storageSpecifier:null,identifier:e.text,typename:t,declaratorId:u.createDeclaratorId()};return p.set(n,r(r({},e),{length:E.pos-e.pos})),n}}}};for(;;){var o=a();if("object"===e(o))return o.value}}();return i.abstract?{abstract:!0,chain:function(e){return i.chain(n(e))}}:{abstract:!1,chain:function(e){return i.chain(n(e))}}}function A(){var e=w(),r=e.specifier,t=e.storageClassSpecifier,n=e.functionSpecifier;t&&f("storage-class-specifier is not allowed in typeName"),n&&f("function-specifier is not allowed in typeName");var i=k();return i.abstract||f("Non abstract declarator is not expected here"),i.chain(r)}function O(){var e=w(),r=e.specifier,t=e.storageClassSpecifier,n=e.functionSpecifier,i=k();return t&&"register"!==t&&f("Only register is allowed in parameter storage-class-specifier"),n&&f("Function specifier is not allowed in parameter declaration"),i.abstract,i.chain(r)}function I(){var e,r,t=_(),i=[];try{for(var a=n(t),o=a.next();!o.done;o=a.next()){var c=o.value;"function-declaration"===c.type?f("Unexpected function declaration"):i.push(c)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return i}function _(){var e,t,i=s.current();S()||f("Expecting declaration-specifiers");var a=w(),o=a.specifier,c=a.storageClassSpecifier,d=a.functionSpecifier,y=k();if(y.abstract&&f("Abstract declarator is not expected here"),";"===s.current().type||","===s.current().type||"="===s.current().type){var v=y.chain(o);p.set(v,r(r({},i),{length:s.current().pos-i.pos}));for(var h=v,x=[],g=function(){h.functionSpecifier=d,h.storageSpecifier=c,x.push(h),u.addEntry(h)};";"!==s.current().type;)if("="===s.current().type){s.readNext();var m=s.current();h||f("Internal error: declaration list is empty"),h.initializer&&f("Internal error: already have initializer"),"{"===s.current().type&&f("initializer-list is not supported yet");var N={type:"assigmnent-expression",expression:l.readAssignmentExpression()};p.set(N,r(r({},m),{length:s.current().pos-m.pos})),h.initializer=N}else if(s.current().type=","){g(),s.readNext();var b=k();b.abstract&&(console.info(b),f("Abstract declarator is not expected here"));var E=b.chain(o);p.set(E,r(r({},i),{length:s.current().pos-i.pos})),h=E}return g(),s.readNext(),x}var T=y.chain(o);T.functionSpecifier=d,T.storageSpecifier=c,S()&&f("K&R notation, @TODO read declaration-list and then update function type"),"function"!==T.typename.type&&f("Expecting function type (6.9.1 2)"),"array"===T.typename.returnType.type&&f("Functions can not return array type (6.9.1 3)"),u.isIdentifierAlreadyDefinedInCurrentScope(T.identifier)&&f("Idenitifier is already declared (TODO: do linkage)");var A=r(r({},T),{typename:T.typename,initializer:null});"{"!==s.current().type&&f("Expected compount-statement"),u.addEntry(A),u.enterFunctionScope();try{for(var O=n(T.typename.parameters),I=O.next();!I.done;I=O.next()){var _=I.value;"declarator"!==_.type&&f("Parameter name omitted"),u.addEntry(_)}}catch(R){e={error:R}}finally{try{I&&!I.done&&(t=O.return)&&t.call(O)}finally{if(e)throw e.error}}s.readNext();var C=P();"}"!==s.current().type&&f("Expecting }"),s.readNext();var D={type:"function-declaration",declaration:A,body:C,declaredVariables:u.leaveFunctionScope()};return p.set(D,r(r({},i),{length:s.current().pos-i.pos})),[D]}function C(){var e=s.current();if("case"===e.type||"default"===e.type)f("Case is not supported yet");else{if("identifier"!==e.type||":"!==s.nextToken().type){if("{"===e.type){u.enterScope(),s.readNext();var t=P();"}"!==s.current().type&&f("Expected }"),s.readNext();var n={type:"compound-statement",body:t};return p.set(n,r(r({},e),{length:s.current().pos-e.pos})),n}if("if"===e.type){s.readNext(),"("!==s.current().type&&f("Expected ("),s.readNext();var a=l.readExpression();")"!==s.current().type&&f("Expected )"),s.readNext();var o={type:"if",condition:a,iftrue:C(),iffalse:function(){if("else"===s.current().type)return s.readNext(),C()}()};return p.set(o,r(r({},e),{length:s.current().pos-e.pos})),o}if("while"===e.type){s.readNext(),d("(");var c=l.readExpression();d(")");o={type:"while",condition:c,body:t=C()};return p.set(o,r(r({},e),{length:s.current().pos-e.pos})),o}if("do"===e.type){s.readNext();n=C();d("while"),d("(");a=l.readExpression();d(")"),d(";");o={type:"dowhile",body:n,condition:a};return p.set(o,r(r({},e),{length:s.current().pos-e.pos})),o}if("for"===e.type){s.readNext(),d("("),u.enterScope();var y=[];if(S()){I().forEach(function(e){return y.push(e)})}else{var v=";"!==s.current().type?l.readExpression():void 0;s.readNext();var h=v?{type:"expression",expression:v}:void 0;if(v&&h){var x=p.get(v);x?p.set(h,x):console.warn('No locator for first expression in "for"',v)}h&&y.push(h)}var g=";"!==s.current().type?l.readExpression():void 0;s.readNext();var m=")"!==s.current().type?l.readExpression():void 0,N=m?{type:"expression",expression:m}:void 0;if(N&&m){var b=p.get(m);b?p.set(N,b):console.warn('No locator for third expression in "for"',N)}d(")");n=C();u.leaveScope();var E={type:"const",subtype:"char",value:1};g||p.set(E,r(r({},e),{length:s.current().pos-e.pos}));var T=N?{type:"compound-statement",body:[n,N]}:null;T&&p.set(T,r(r({},e),{length:s.current().pos-e.pos}));var w={type:"while",condition:g||E,body:T||n};if(p.set(w,r(r({},e),{length:s.current().pos-e.pos})),0===y.length)return w;o={type:"compound-statement",body:i(y,[w])};return p.set(o,r(r({},e),{length:s.current().pos-e.pos})),o}if(";"===e.type){s.readNext();var k={type:"noop"};return p.set(k,r(r({},e),{length:s.current().pos-e.pos})),k}if("continue"===e.type){s.readNext(),d(";");o={type:"continue"};return p.set(o,r(r({},e),{length:s.current().pos-e.pos})),o}if("break"===e.type){s.readNext(),d(";");o={type:"break"};return p.set(o,r(r({},e),{length:s.current().pos-e.pos})),o}if("return"===e.type){s.readNext();a=";"===s.current().type?void 0:l.readExpression();d(";");o={type:"return",expression:a};return p.set(o,r(r({},e),{length:s.current().pos-e.pos})),o}a=l.readExpression();";"!==s.current().type&&f("Expected ; after expression"),s.readNext();o={type:"expression",expression:a};return p.set(o,r(r({},e),{length:s.current().pos-e.pos})),o}f("Labels are not supported yes")}}function P(){for(var e=[];"end"!==s.current().type&&"}"!==s.current().type;)if(S()){I().forEach(function(r){return e.push(r)})}else{var r=C();e.push(r)}return e}return r(r({},l),{readTypeName:A,isCurrentTokenLooksLikeTypeName:E,isCurrentTokenLooksLikeDeclarationSpecifiers:S,readExternalDeclaration:_,readDeclaration:I,readCompoundStatementBody:P})}exports.createParser=s;
},{"./scanner.func":"Ncnj","./error":"hBUZ","./parser.expression":"EVR9"}],"sf96":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.readTranslationUnit=void 0;var e=require("./parser.symboltable"),r=require("./parser.funcs");function t(t){var a=new Map,n=new e.SymbolTable(a);n.enterScope();for(var o=r.createParser(t,a,n),i=[];"end"!==t.current().type;){if(";"!==t.current().type)o.readExternalDeclaration().forEach(function(e){return i.push(e)});else t.readNext()}var s=n.getTranslationUnittDeclarations(),c=n.getDeclaratorsMap();return{type:"translation-unit",body:i,declarations:s,declaratorMap:function(){return c},locationMap:function(){return a}}}exports.readTranslationUnit=t;
},{"./parser.symboltable":"b6CA","./parser.funcs":"Htl3"}],"ihfD":[function(require,module,exports) {
"use strict";function e(e){throw new Error("Unexpected object: "+e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.assertNever=void 0,exports.assertNever=e;
},{}],"MhS4":[function(require,module,exports) {
"use strict";var e=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,o,a=t.call(e),s=[];try{for(;(void 0===r||r-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(n){o={error:n}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return s},r=this&&this.__spread||function(){for(var r=[],t=0;t<arguments.length;t++)r=r.concat(e(arguments[t]));return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.writeEspCode=exports.readEspCode=exports.getRegisterForTypename=void 0;var t=require("./assertNever");function i(e){return"arithmetic"!==e.type?"pointer"===e.type?"i32":null:"char"===e.arithmeticType||"short"===e.arithmeticType||"int"===e.arithmeticType?"i32":"long long"===e.arithmeticType?"i64":"float"===e.arithmeticType?"f32":"double"===e.arithmeticType?"f64":void t.assertNever(e.arithmeticType)}exports.getRegisterForTypename=i,exports.readEspCode=["i32.const 4 ;; Read $esp","i32.load offset=0 align=2 ;; Read $esp"],exports.writeEspCode=function(e){return r(["i32.const 4 ;; Prepare $esp write - address"],e,["i32.store offset=0 align=2 ;; Write $esp"])};
},{"./assertNever":"ihfD"}],"DZD5":[function(require,module,exports) {
"use strict";var e=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},t=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FunctionSignatures=exports.generateFunctionWaTypeName=void 0;var n=require("./emitter.utils");function o(e){return{i32:"i",i64:"j",f32:"f",f64:"d"}[e]}function i(r){var t,i,a=n.getRegisterForTypename(r.returnType),u="void"===r.returnType.type?"v":a?o(a):null;if(!u)throw new Error("Return of non-register value is not supported yet");var s=a?" (result "+a+")":"",l="",p="$FUNCSIG"+u;try{for(var c=e(r.parameters),f=c.next();!f.done;f=c.next()){var y=f.value,v="declarator"===y.type?y.typename:y,h=n.getRegisterForTypename(v);if(!h)throw console.info(v),new Error("Parameters with non-register values is not supported yet");p+=o(h),l+=" "+h}}catch(d){t={error:d}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}if(r.haveEndingEllipsis)throw new Error("'...' is not implemened yed");return[p,"(func"+(l?" (param"+l+")":"")+s+")"]}exports.generateFunctionWaTypeName=i;var a=function(){function e(){this.seenFunctionTypes=new Map}return e.prototype.getFunctionTypeName=function(e){var t=r(i(e),2),n=t[0],o=t[1];return this.seenFunctionTypes.has(n)||this.seenFunctionTypes.set(n,o),n},e.prototype.getTypesWAInstructions=function(){return t(this.seenFunctionTypes.entries()).map(function(e){var t=r(e,2);return"(type "+t[0]+" "+t[1]+")"})},e}();exports.FunctionSignatures=a;
},{"./emitter.utils":"MhS4"}],"CsBc":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createHelpers=void 0;var r=require("./error"),n=require("./emitter.helpers.functionsignature");function t(t,o){var a=[];var i=new n.FunctionSignatures;return{error:function(e,n){var o=t.get(e);throw o?new r.CheckerError(""+n,o):(console.warn("Unable to find location for node type="+e.type),new r.CheckerError(""+n,{pos:0,line:0,length:0}))},warn:function(r,n){var o=t.get(r);o?a.push(e({msg:n},o)):(console.warn("Unable to find location for node type="+r.type),a.push({msg:n,length:0,pos:0,line:0}))},cloneLocation:function(e,r){var n=t.get(e);n?t.set(r,n):console.warn("No location for node",e)},getDeclaration:function(e){var r=o.get(e);if(!r)throw new Error("Internal error: unable to find declaration "+e);return r},warnings:a,functionSignatures:i}}exports.createHelpers=t;
},{"./error":"hBUZ","./emitter.helpers.functionsignature":"DZD5"}],"ZhFl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadScalar=exports.storeScalar=void 0;var r=require("./assertNever");function e(r,e,t,i){var o=Math.min(t,i);return r+(0!==e?" offset="+e:"")+(0!==o?" align="+o:"")}function t(t,i,o,n){if(void 0===o&&(o=0),void 0===n&&(n=0),"arithmetic"===t.type){if("char"===t.arithmeticType){if("i32"!==i&&"i64"!==i)throw new Error("Internal error: unable to save char from "+i+" register");return e(i+".store8",o,n,0)}if("short"===t.arithmeticType){if("i32"!==i&&"i64"!==i)throw new Error("Internal error: unable to save short from "+i+" register");return e(i+".store16",o,n,1)}if("int"===t.arithmeticType){if("i32"===i)return e("i32.store",o,n,2);if("i64"===i)return e("i64.store32",o,n,2);throw new Error("Internal error: unable to save int from "+i+" register")}if("long long"===t.arithmeticType){if("i64"!==i)throw new Error("Internal error: unable to save longlong from "+i+" register");return e("i64.store",o,n,2)}if("double"===t.arithmeticType||"float"===t.arithmeticType)throw new Error("TOOD: Store float/double");r.assertNever(t.arithmeticType)}else if("pointer"===t.type)return e("i32.store",o,n,2);throw new Error("Wrong usage, expecting only scalar types but got type="+t.type)}function i(r,t,i,o){if(void 0===i&&(i=0),void 0===o&&(o=0),"i32"!==t)throw new Error("Not supported yet");if("pointer"===r.type)return e("i32.load",i,o,2);if("arithmetic"!==r.type)throw new Error("Internal error");if("int"===r.arithmeticType)return e("i32.load",i,o,2)+";; readArithmetic int";if("char"===r.arithmeticType)return"signed"===r.signedUnsigned?e("i32.load8_s",i,o,0)+";; readArithmetic signed chat":e("i32.load8_u",i,o,0)+";; readArithmetic signed chat";throw new Error("Internal error or not suppored yet")}exports.storeScalar=t,exports.loadScalar=i;
},{"./assertNever":"ihfD"}],"BDf7":[function(require,module,exports) {
"use strict";function e(e){return"arithmetic"===e.type||"pointer"===e.type}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isScalar=void 0,exports.isScalar=e;
},{}],"BomS":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},t=this&&this.__read||function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var r,i,n=a.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(o){i={error:o}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(i)throw i.error}}return s},a=this&&this.__spread||function(){for(var e=[],a=0;a<arguments.length;a++)e=e.concat(t(arguments[a]));return e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createExpressionAndTypes=void 0;var r=require("./assertNever"),i=require("./emitter.utils"),n=require("./emitter.scalar.storeload"),s=require("./emitter.scalar");function o(t){t.warn;var o=t.cloneLocation,u=t.getDeclaration;function p(e,a){t.error(e,a)}var l=function e(t){var a=function(e){return{type:"static",value:e}};if("arithmetic"===t.type){if("char"===t.arithmeticType)return a(1);if("int"===t.arithmeticType)return a(4);p(t,"Not supported yet")}else if("array"===t.type){var i=e(t.elementsTypename);if(null===t.size)return{type:"incomplete"};"*"===t.size&&p(t,"Star in array is not supported");var n=y(t.size);if("static"===i.type&&n.staticValue)return a(i.value*n.staticValue);p(t,"Dynamic arrays are not supported yet. Todo: return created expression for size if possible")}else if("enum"===t.type||"struct"===t.type)p(t,"Not supported yet");else if("function"===t.type||"function-knr"===t.type)p(t,"6.5.3.4: The sizeof operator shall not be applied to an expression that has function type");else{if("pointer"===t.type)return a(4);"void"===t.type?p(t,"Void have no size"):r.assertNever(t)}},y=function y(c){if("const"===c.type){if("char"===c.subtype){if(c.value>255)throw new Error("Assertion failed: char > 255");if(c.value<-128)throw new Error("Assertion failed: char < -128");var v={type:"arithmetic",arithmeticType:"char",const:!0,signedUnsigned:c.value>=0?null:"signed"};return o(c,v),{type:v,value:function(){return["i32.const "+c.value]},address:null,staticValue:c.value}}if("int"===c.subtype){var f=-Math.pow(2,31),d=Math.pow(2,32)-1;if(c.value<=d&&c.value>=f){v={type:"arithmetic",arithmeticType:"int",const:!0,signedUnsigned:c.value>=0?null:"signed"};return o(c,v),{type:v,value:function(){return["i32.const "+c.value]},address:null,staticValue:c.value}}v={type:"arithmetic",arithmeticType:"long long",const:!0,signedUnsigned:c.value>=0?null:"signed"};return o(c,v),{type:v,value:function(){return["i64.const "+c.value]},address:null,staticValue:c.value}}"float"===c.subtype&&p(c,"Floats are not supported yet")}else if("identifier"===c.type){var m=u(c.declaratorNodeId);if("arithmetic"===m.typename.type){if("char"===m.typename.arithmeticType||"int"===m.typename.arithmeticType){var g=null;if(m.typename.const&&m.initializer&&"assigmnent-expression"===m.initializer.type){var h=y(m.initializer.expression);h.staticValue&&(g=h.staticValue)}return{type:m.typename,staticValue:g,value:function(){return m.memoryIsGlobal?["i32.const "+m.memoryOffset,n.loadScalar(m.typename,"i32",0,2)]:["local.get $ebp",n.loadScalar(m.typename,"i32",m.memoryOffset,2)]},address:function(){return m.memoryIsGlobal?["i32.const "+m.memoryOffset]:["local.get $ebp","i32.const "+m.memoryOffset,"i32.add"]}}}"double"===m.typename.arithmeticType||"float"===m.typename.arithmeticType?p(c,"Floats are not supported yet"):p(c,"TODO support other types")}else if("function-knr"===m.typename.type)p(m,"Internal error: K&R notations should be replated to this point");else{if("function"===m.typename.type)return{type:m.typename,staticValue:m.memoryOffset?m.memoryOffset:null,value:function(){return["i32.const "+m.memoryOffset]},address:function(){return["i32.const "+m.memoryOffset]}};if("pointer"===m.typename.type)return{type:m.typename,staticValue:null,value:function(){return m.memoryIsGlobal?["i32.const "+m.memoryOffset,n.loadScalar(m.typename,"i32",0,2)]:["local.get $ebp",n.loadScalar(m.typename,"i32",m.memoryOffset,2)]},address:function(){return m.memoryIsGlobal?["i32.const "+m.memoryOffset]:["local.get $ebp","i32.const "+m.memoryOffset,"i32.add"]}};if("array"===m.typename.type)return function(e){if("array"!==e.type)throw new Error("Internal error: isArrayStaticSize called for non-array");return"static"===l(e).type}(m.typename)||p(m,"TODO: Dynamic arrays are not supported yet"),{type:m.typename,staticValue:null,value:null,address:function(){return m.memoryIsGlobal?["i32.const "+m.memoryOffset]:["local.get $ebp","i32.const "+m.memoryOffset,"i32.add"]}};"enum"===m.typename.type||"struct"===m.typename.type?p(m,"TODO, not implemented yett"):"void"===m.typename.type?p(m,"Used void declaration"):r.assertNever(m.typename)}}else if("subscript operator"===c.type){var V=c.target,T=c.index,b=y(V),O=y(T);if("arithmetic"!==O.type.type&&p(T,"Must be arithmetic type"),"int"!==O.type.arithmeticType&&"char"!==O.type.arithmeticType&&p(T,"Only int/char are supported now"),"array"===b.type.type){var x=l(b.type.elementsTypename);"static"!==x.type&&p(b.type.elementsTypename,"Dynamic arrays are not supported yet"),b.address||p(V,"Array must have address");var _=b.address;O.value||p(T,"Must be a value here");var S=O.value,M=function(){var e=a(S(),["i32.const "+x.value,"i32.mul"]);return a(_(),e,["i32.add"])},N=b.type.elementsTypename,R=s.isScalar(N)?function(){return a(M(),[n.loadScalar(N,"i32",0,0)])}:null;return{type:b.type.elementsTypename,staticValue:null,value:R,address:M}}if("pointer"===b.type.type){var w=l(b.type.pointsTo);"incomplete"===w.type&&p(V,"subscript of pointer to incomplete type"),"expression"===w.type&&p(V,"Dynamic array types is not supported yet"),b.value||p(V,"Pointter must have address");var z=b.value;O.value||p(T,"Must be a value here");var D=O.value,F=function(){var e=a(D(),["i32.const "+w.value,"i32.mul"]);return a(z(),e,["i32.add"])},I=b.type.pointsTo;R=s.isScalar(I)?function(){return a(F(),[n.loadScalar(I,"i32",0,0)])}:null;return{type:b.type.pointsTo,staticValue:null,value:R,address:F}}p(V,"Must be array or pointer type")}else{if("function call"===c.type){var k=y(c.target);"function"!==k.type.type&&p(c.target,"Must be a function");var A=k.value;A||p(c.target,"There must be a function value");var E=k.type;E.parameters.length>c.args.length&&p(c,"Not ennough parameters"),E.parameters.length<c.args.length&&(E.haveEndingEllipsis?p(c,"Ellipsis is not implemented yet"):p(c,"Too many parameters for this function"));for(var U=[],q=0;q<c.args.length;q++){var G=c.args[q],$=E.parameters[q],j=y(G),L=i.getRegisterForTypename(j.type);L||p(G,"Non-register params are not supported yet");var P=i.getRegisterForTypename("declarator"===$.type?$.typename:$);P||p(G,"Non-register params are not supportetd yet1"),P!==L&&p(G,"Register promotion is not supported yet");var C=j.value;C||p(G,"Must have a value for register param"),U.push(C)}var H=t.functionSignatures.getFunctionTypeName(E);return{type:E.returnType,address:null,staticValue:null,value:function(){var e=[];return U.forEach(function(t){return e.push.apply(e,a(t()))}),k.staticValue?e.push("call "+k.staticValue):(e.push.apply(e,a(A())),e.push("call_indirect (type "+H+")")),e}}}if("binary operator"===c.type){var K=y(c.left),Y=y(c.right),B=c.operator,J=K.value;J||p(c.left,"Must have a value");var Q=Y.value;Q||p(c.right,"Must have a value");var W=i.getRegisterForTypename(K.type),X=i.getRegisterForTypename(Y.type);W||p(c.left,"Must have a value"),X||p(c.right,"Must have a value"),"i32"!==W&&p(c.left,"TODO: Not suppoertted yet"),"i32"!==X&&p(c.right,"TODO: Not suppoertted yet");var Z=function(){if("pointer"===K.type.type)return K.type;if("pointer"===Y.type.type)return Y.type;var e=l(K.type),t=l(K.type);return"static"!==e.type&&p(c.left,"Inernal error final type left"),"static"!==t.type&&p(c.right,"Inernal error final type left"),e.value>=t.value?K.type:Y.type}();if("*"===B||"/"===B||"%"===B||"+"===B||"-"===B||"&"===B||"|"===B||"<<"===B||">>"===B||"=="===B||"!="===B||"<"===B||"<="===B||">"===B||">="===B||"^"===B){g=K.staticValue&&Y.staticValue?"*"===B?K.staticValue*Y.staticValue:"/"===B?Math.floor(K.staticValue/Y.staticValue):"%"===B?K.staticValue%Y.staticValue:"+"===B?K.staticValue+Y.staticValue:"-"===B?K.staticValue-Y.staticValue:"&"===B?K.staticValue&Y.staticValue:"|"===B?K.staticValue|Y.staticValue:">>"===B?K.staticValue>>Y.staticValue:"<<"===B?K.staticValue<<Y.staticValue:"=="===B?K.staticValue===Y.staticValue?1:0:"!="===B?K.staticValue!==Y.staticValue?1:0:"<"===B?K.staticValue<Y.staticValue?1:0:"<="===B?K.staticValue<=Y.staticValue?1:0:">"===B?K.staticValue>Y.staticValue?1:0:">="===B?K.staticValue>=Y.staticValue?1:0:"^"===B?K.staticValue^Y.staticValue:r.assertNever(B):null;var ee="arithmetic"===K.type.type&&"signed"===K.type.signedUnsigned,te="arithmetic"===Y.type.type&&"signed"===Y.type.signedUnsigned,ae=ee||te,re="arithmetic"===Z.type&&"signed"===Z.signedUnsigned,ie="*"===B?["i32.mul"]:"/"===B?re?["i32.div_s"]:["i32.div_u"]:"%"===B?re?["i32.rem_s"]:["i32.rem_u"]:"+"===B?["i32.add"]:"-"===B?["i32.sub"]:"&"===B?["i32.and"]:"|"===B?["i32.or"]:"<<"===B?["i32.shl"]:">>"===B?ee?["i32.shr_s"]:["i32.shr_u"]:"=="===B?["i32.eq"]:"!="===B?["i32.ne"]:"<"===B?ae?["i32.lt_s"]:["i32.lt_u"]:"<="===B?ae?["i32.le_s"]:["i32.le_u"]:">"===B?ae?["i32.gt_s"]:["i32.gt_u"]:">="===B?ae?["i32.ge_s"]:["i32.ge_u"]:"^"===B?["i32.xor"]:r.assertNever(B),ne=[];if(("+"===B||"-"===B)&&"pointer"===K.type.type&&"arithmetic"===Y.type.type){var se=l(K.type.pointsTo);"static"!==se.type&&p(c.left,"DYnamic types are not supported yet, or incomplee is here"),ne=["i32.const "+se.value,"i32.mul"]}return"+"!==B&&"-"!==B||"arithmetic"!==K.type.type||"pointer"!==Y.type.type||p(c,"Not supported yet - swap arguments"),{type:Z,staticValue:g,address:null,value:function(){return a(J(),Q(),ne,ie)}}}if("||"===B)return{type:Z,staticValue:null,address:null,value:function(){return a(["block (result i32) ;; OR block","i32.const 1"],J(),["br_if 0"],Q(),["br_if 0","drop","i32.const 0","end"])}};if("&&"===B)return{type:Z,staticValue:null,address:null,value:function(){return a(["block (result i32) ;; AND block","i32.const 0"],J(),["i32.eqz","br_if 0"],Q(),["i32.eqz","br_if 0","drop","i32.const 1","end"])}};r.assertNever(B)}else{if("assignment"===c.type){var oe=y(c.lvalue),ue=y(c.rvalue),pe=i.getRegisterForTypename(oe.type);pe||p(c.lvalue,"Assignment to this type="+oe.type+" is not supported yet"),pe!==i.getRegisterForTypename(ue.type)&&p(c.rvalue,"Type assigment "+ue.type+" to "+oe.type+" is not supported yet"),oe.type.const&&p(c.lvalue,"Have const modifier, unable to change");var le=oe.address;le||p(c.lvalue,"Lvalue must have an address");var ye=oe.value;ye||p(c.lvalue,"Lvalue must also have a value, at least for now");var ce=ue.value;ce||p(c.rvalue,"rvalue must have a value, at least for now");var ve=function(){return a(le(),ce(),[n.storeScalar(oe.type,pe,0,0)])},fe=e(e({},oe.type),{const:!0});return o(oe.type,fe),{address:function(){return a(ve(),le())},value:function(){return a(ve(),ye())},staticValue:null,type:fe}}if("unary-operator"===c.type){if("&"===c.operator){var de=(b=y(V=c.target)).address;de||p(c.target,"Must be something with address");var me={type:"pointer",const:!0,pointsTo:b.type};return o(c,me),{type:me,address:null,staticValue:null,value:de}}if("*"===c.operator){"pointer"!==(b=y(V=c.target)).type.type&&p(V,"Must be a pointer");var ge=b.value;ge||p(V,"Must have a value");var he=b.type.pointsTo,Ve=i.getRegisterForTypename(he),Te="function"===he.type?function(){return ge()}:Ve?function(){return a(ge(),[n.loadScalar(he,Ve)])}:null;return{type:he,value:Te,staticValue:null,address:ge}}if("~"===c.operator||"!"===c.operator||"+"===c.operator||"-"===c.operator){b=y(c.target);(we=i.getRegisterForTypename(b.type))||p(c.target,"Must be a value"),"i32"!==we&&p(c.target,"Register "+we+" is not supported yet");var be=b.value;be||p(c.target,"Must have a value");var Oe="~"===c.operator?["i32.const 4294967295","i32.xor"]:"!"===c.operator?["i32.eqz"]:"+"===c.operator?[]:"-"===c.operator?["i32.const 4294967295","i32.xor","i32.const 1","i32.add"]:r.assertNever(c.operator);return{type:b.type,address:null,staticValue:null,value:function(){return a(be(),Oe)}}}r.assertNever(c.operator)}else if("sizeof expression"===c.type){o(c,Ne={type:"arithmetic",arithmeticType:"int",signedUnsigned:null,const:!0});var xe=y(c.expression),_e=l(xe.type);if("incomplete"===_e.type)p(c.expression,"Unable to get size of expression with incomplete type");else{if("static"===_e.type)return{address:null,staticValue:_e.value,type:Ne,value:function(){return["i32.const "+_e.value]}};if("expression"===_e.type){var Se=y(_e.expression).value;return Se||p(_e.expression,"Internal error: unable to get expression value"),{address:null,staticValue:null,type:Ne,value:Se}}r.assertNever(_e)}}else{if("sizeof typename"===c.type){var Me=l(c.typename);"static"!==Me.type&&p(c.typename,"TODO: Not supported yet or incomplete type");var Ne,Re=Me.value;return o(c,Ne={type:"arithmetic",arithmeticType:"int",signedUnsigned:null,const:!0}),{type:Ne,staticValue:Re,address:null,value:function(){return["i32.const "+Re]}}}if("cast"===c.type){var we;b=y(c.target);return"i32"!==(we=i.getRegisterForTypename(b.type))&&p(c.target,"TODO: Such casts are not supported yet"),we!==i.getRegisterForTypename(c.typename)&&p(c.typename,"TODO: Register change for casting"),"arithmetic"===c.typename.type&&"int"!==c.typename.arithmeticType&&p(c.typename,"TODO: downncasting/upcasting is not supported yet"),{type:c.typename,staticValue:b.staticValue,value:b.value,address:b.address}}if("postfix ++"===c.type||"postfix --"===c.type){var ze,De="postfix ++"===c.type,Fe=(V=c.target,y(c.target)),Ie=i.getRegisterForTypename(Fe.type);if(Ie||p(V,"Must be a real type or pointer"),"pointer"===Fe.type.type)"static"!==(Ue=l(Fe.type.pointsTo)).type&&p(V,"TODO: Only compilation-time known size is supported"),ze=Ue.value;else ze=1;var ke=Fe.value;ke||p(V,"Must have a vakue");var Ae=Fe.address;return Ae||p(V,"Not an lvalue"),Fe.type.const&&p(V,"A const modifier is here"),"i32"!==Ie&&p(V,"Such register is not supported yet"),{type:Fe.type,address:null,staticValue:null,value:function(){return a(ke(),Ae(),Ae(),[n.loadScalar(Fe.type,Ie),"i32.const "+ze,De?"i32.add":"i32.sub",n.storeScalar(Fe.type,Ie)])}}}if("prefix ++"===c.type||"prefix --"===c.type){var Ee,Ue,qe="prefix ++"===c.type,Ge=(V=c.target,y(c.target)),$e=i.getRegisterForTypename(Ge.type);if($e||p(V,"Must be a real type or pointer"),"pointer"===Ge.type.type)"static"!==(Ue=l(Ge.type.pointsTo)).type&&p(V,"TODO: Only compilation-time known size is supported"),Ee=Ue.value;else Ee=1;var je=Ge.value;je||p(V,"Must have a vakue");var Le=Ge.address;return Le||p(V,"Not an lvalue"),Ge.type.const&&p(V,"A const modifier is here"),"i32"!==$e&&p(V,"Such register is not supported yet"),{type:Ge.type,address:null,staticValue:null,value:function(){return a(Le(),Le(),[n.loadScalar(Ge.type,$e),"i32.const "+Ee,qe?"i32.add":"i32.sub",n.storeScalar(Ge.type,$e)],je())}}}if("conditional expression"===c.type){var Pe=y(c.condition),Ce=y(c.iftrue),He=y(c.iffalse),Ke=Pe.value;Ke||p(c.condition,"Condition must have a value");var Ye=Ce.value;Ye||p(c.iftrue,"Iftrue part must have a value");var Be=He.value;return Be||p(c.iftrue,"Iffalse part must have a value"),"i32"!==i.getRegisterForTypename(Pe.type)&&p(c.condition,"Register is not supported"),"i32"!==i.getRegisterForTypename(Ce.type)&&p(c.condition,"Register is not supported"),"i32"!==i.getRegisterForTypename(He.type)&&p(c.condition,"Register is not supported"),{type:Z=function(){var e=l(Ce.type),t=l(He.type);return"static"!==e.type&&p(c.iftrue,"Inernal error final type left"),"static"!==t.type&&p(c.iffalse,"Inernal error final type left"),e.value>=t.value?Ce.type:He.type}(),address:null,staticValue:null,value:function(){return a(Ke(),["if (result i32)"],Ye(),["else"],Be(),["end"])}}}}}}p(c,"TODO other expressionInfo for type="+c.type)};return{getTypeSize:l,getExpressionInfo:y}}exports.createExpressionAndTypes=o;
},{"./assertNever":"ihfD","./emitter.utils":"MhS4","./emitter.scalar.storeload":"ZhFl","./emitter.scalar":"BDf7"}],"VkmE":[function(require,module,exports) {
"use strict";var e=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},r=this&&this.__spread||function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(t(arguments[r]));return e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createFunctionCodeGenerator=void 0;var n=require("./emitter.utils"),o=require("./assertNever"),i=require("./emitter.scalar.storeload");function a(e){return"compound-statement"===e.type?e.body:[e]}function l(t,l,p){var s=t.warn,u=t.getDeclaration;function d(e,r){t.error(e,r)}return{createFunctionCode:function(c){var y,f,h,v,m=t.functionSignatures.getFunctionTypeName(c.declaration.typename),b=0;try{for(var g=e(c.declaredVariables),x=g.next();!x.done;x=g.next()){var T=x.value,w=u(T),z=l(w.typename);"static"!==z.type&&d(w,"Dynamic or incomplete size is not supported yet"),w.memoryOffset=b,w.memoryIsGlobal=!1,b+=z.value}}catch(E){y={error:E}}finally{try{x&&!x.done&&(f=g.return)&&f.call(g)}finally{if(y)throw y.error}}var F=n.getRegisterForTypename(c.declaration.typename.returnType);null===F&&"void"!==c.declaration.typename.returnType.type&&d(c.declaration.typename.returnType,"This return type is not supported yet");var O="$return_value",I=function t(i,l,u){var y,f,h=null!==u?u+1:null,v=[],m=!1;try{for(var b=e(i),g=b.next();!g.done;g=b.next()){var x=g.value;if(m)s(x,"Unreachable code detected");else if("noop"===x.type)v.push("nop ;; noop statement");else if("declarator"===x.type){if(x.initializer)if("initializer-list"===x.initializer.type)d(x.initializer,"Not supported yet");else if("assigmnent-expression"===x.initializer.type){if(x.memoryIsGlobal)continue;var T=p(x.initializer.expression);T.value||d(x.initializer.expression,"Must return a value"),v.push.apply(v,r([";; Initializer for local "+x.identifier+" id="+x.declaratorId,"local.get $ebp ;;  address, first part"],T.value(),["i32.store offset="+x.memoryOffset+" align=2 "]))}else o.assertNever(x.initializer)}else if("return"===x.type){if(v.push(";; return"),"void"===c.declaration.typename.returnType.type)x.expression&&d(x.expression,"void function should not return value");else{x.expression||d(x,"Must be an expression here");var w=p(x.expression),z=n.getRegisterForTypename(w.type);z&&z===F?(w.value||d(x.expression,"Internal error: Type "+w.type.type+" must have value"),v.push.apply(v,r(w.value())),v.push("local.set "+O)):d(x.expression,"This return type is not supported yet")}v.push("br "+l+" ;; Return"),m=!0}else if("expression"===x.type){var I=p(x.expression);I.value?v.push.apply(v,r(I.value())):I.address?v.push.apply(v,r(I.address())):d(x.expression,"Internal error: expression must have value or address"),"void"!==I.type.type&&v.push("drop")}else if("compound-statement"===x.type)v.push("block ;; compound-statement"),v.push.apply(v,r(t(x.body,l+1,null!==u?u+1:null))),v.push("end ;; compound-statement");else if("if"===x.type){var C=p(x.condition),$=n.getRegisterForTypename(C.type);C.value||d(x.condition,"Condition must have a value"),"i32"!==$&&d(x.condition,"TODO: register change is not supported yet"),v.push.apply(v,r(C.value(),["if"],t(a(x.iftrue),l+1,null!==u?u+1:null))),x.iffalse&&v.push.apply(v,r(["else"],t(a(x.iffalse),l+1,null!==u?u+1:null))),v.push("end")}else"while"===x.type?(C=p(x.condition),$=n.getRegisterForTypename(C.type),C.value||d(x.condition,"Condition must have a value"),"i32"!==$&&d(x.condition,"TODO: This register type is not supported yet"),v.push("block ;; while loop 1","loop ;; while loop 2 "),v.push(";; Check while condition"),v.push.apply(v,r(C.value())),v.push("i32.eqz ;; Revert boolean"),v.push("br_if 1 ;; Breaking outer block"),v.push.apply(v,r(t(a(x.body),l+2,0))),v.push("br 0 ;; while loop, go to beginning","end ;; while loop, first end ","end ;; while loop, second end")):"dowhile"===x.type?d(x,"TODO: Do-while is not implemented yet"):"break"===x.type?(null===h&&d(x,"Unable to break - no loop"),v.push("br "+h)):"continue"===x.type?(null===u&&d(x,"Unable to continue - no loop"),v.push("br "+u)):o.assertNever(x)}}catch(k){y={error:k}}finally{try{g&&!g.done&&(f=b.return)&&f.call(b)}finally{if(y)throw y.error}}return v}(c.body,0,null),C=r(n.writeEspCode(["local.get $ebp"])),$=F?["local.get "+O]:[],k=[],_=[];try{for(var S=e(c.declaration.typename.parameters),D=S.next();!D.done;D=S.next()){var R=D.value;"declarator"!==R.type&&d(R,"Internal error: function must have declarator parameters");var N=n.getRegisterForTypename(R.typename);N||d(R,"TODO: Currently this type of parameter is not supported"),k.push("  (param $P"+R.declaratorId+" "+N+") "),_.push("local.get $ebp ;; Param "+R.identifier+" ebp","local.get $P"+R.declaratorId+" ;; Param "+R.identifier+" value",i.storeScalar(R.typename,N,R.memoryOffset,2))}}catch(G){h={error:G}}finally{try{D&&!D.done&&(v=S.return)&&v.call(S)}finally{if(h)throw h.error}}var P="(type "+m+")",q="(func $F"+c.declaration.declaratorId+" "+P+k.join(" ")+(F?" (result "+F+")":"")+"  (local $ebp i32)"+(F?"  (local "+O+" "+F+")":"");return r([";; Function "+c.declaration.identifier+" localSize="+b,q],n.readEspCode,["local.set $ebp ;; Save esp -> ebp"],n.writeEspCode(["local.get $ebp","i32.const "+b,"i32.add ;; Add all locals to esp"]),[";; Initialize params"],_,[";; Function body","block ;; main function block "],I,["end ;; main function block end",";; Cleanup"],C,$,[")","",'(export "'+c.declaration.identifier+'" (func $F'+c.declaration.declaratorId+"))",""])}}}exports.createFunctionCodeGenerator=l;
},{"./emitter.utils":"MhS4","./assertNever":"ihfD","./emitter.scalar.storeload":"ZhFl"}],"u0uV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTrapFunctionCode=exports.trapFunctionName=void 0;var e={type:"function",returnType:{type:"void",const:!0},const:!0,haveEndingEllipsis:!1,parameters:[]};function t(t){var n=t.getFunctionTypeName(e);return["(func "+exports.trapFunctionName+" (type "+n+")","unreachable",")"]}exports.trapFunctionName="$null",exports.getTrapFunctionCode=t;
},{}],"uJXE":[function(require,module,exports) {
"use strict";var e=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,n,o=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(l){n={error:l}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return a},t=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.emit=void 0;var i=require("./emitter.utils"),n=require("./emitter.helpers"),o=require("./emitter.expressionsandtypes"),a=require("./emitter.functionscode"),l=require("./emitter.helpers.trap");function s(e){var r=new Map;return function(t){var i=r.get(t);if(i)return i;var n=e(t);return r.set(t,n),n}}function c(r){var s,c,u,p,f=r.locationMap(),y=r.declaratorMap(),d=n.createHelpers(f,y),m=(d.warn,d.getDeclaration),h=d.warnings;function v(e,r){throw d.error(e,r),new Error("Typescript workaround")}var g=o.createExpressionAndTypes(d),w=g.getTypeSize,b=g.getExpressionInfo,x=a.createFunctionCodeGenerator(d,w,b).createFunctionCode,z=8,_=1,S=[];try{for(var T=e(r.declarations),E=T.next();!E.done;E=T.next()){var O=m(E.value);if("typedef"!==O.storageSpecifier)if("function"!==O.typename.type){if("function-knr"===O.typename.type)throw new Error("No K&R here");"void"===O.typename.type&&v(O,"Void for variable is not allowed");var I=w(O.typename);if("static"!==I.type&&v(O,"Globals must have known size"),z%4!=0)throw new Error("Self-check failed, wrong alignment");O.memoryOffset=z,O.memoryIsGlobal=!0;var C=(z+=I.value)%4;if(0!==C&&(z+=4-C),O.initializer&&"arithmetic"===O.typename.type){"assigmnent-expression"!==O.initializer.type&&v(O.initializer,"Wrong iniializer for arithmetic type");var k=b(O.initializer.expression);"arithmetic"!==k.type.type&&v(O.initializer.expression,"Must be arithmetic"),null===k.staticValue&&v(O.initializer.expression,"Initializer value must be known on compilation time"),"int"!==k.type.arithmeticType&&"char"!==k.type.arithmeticType&&v(O.initializer.expression,"TODO: Only int or char is supported for initializers"),S.push(";; Initializer for global "+O.identifier+" id="+O.declaratorId,"i32.const "+O.memoryOffset+" ;; global address","i32.const "+k.staticValue+" ;; value","i32.store offset=0 align=2 ")}}else O.memoryOffset=_,_++}}catch(W){s={error:W}}finally{try{E&&!E.done&&(c=T.return)&&c.call(T)}finally{if(s)throw s.error}}var q=[];try{for(var M=e(r.body),j=M.next();!j.done;j=M.next()){var F=j.value;if("function-declaration"===F.type){var $=x(F);q.push.apply(q,t($))}}}catch(H){u={error:H}}finally{try{j&&!j.done&&(p=M.return)&&p.call(M)}finally{if(u)throw u.error}}var G=t(i.writeEspCode(["i32.const "+z+" ;; Prepare esp"])),V=t(['(func (export "_debug_get_esp") (result i32)'],i.readEspCode,[")"]),A=l.getTrapFunctionCode(d.functionSignatures),D=d.functionSignatures.getTypesWAInstructions(),P=["(table "+_+" "+_+" anyfunc) ;; min and max length","(elem (i32.const 0) $null "+r.body.map(function(e){return"function-declaration"!==e.type?"":" $F"+e.declaration.declaratorId}).join("")+")"];return{warnings:h,moduleCode:t(["(module",'(import "js" "memory" (memory 0))'],D,P,A,q,[" (func $init  "],G,S,[")"," (start $init)"],V,[")"])}}exports.emit=c;
},{"./emitter.utils":"MhS4","./emitter.helpers":"CsBc","./emitter.expressionsandtypes":"BomS","./emitter.functionscode":"VkmE","./emitter.helpers.trap":"u0uV"}],"FADL":[function(require,module,exports) {
"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}var t=this&&this.__read||function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var n,o,u=e.call(r),i=[];try{for(;(void 0===t||t-- >0)&&!(n=u.next()).done;)i.push(n.value)}catch(f){o={error:f}}finally{try{n&&!n.done&&(e=u.return)&&e.call(u)}finally{if(o)throw o.error}}return i},e=this&&this.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(t(arguments[e]));return r};function n(r,e){var n=t(o(r),2),u=n[0],i=n[1];e(u),i.forEach(function(r){return e(r)})}function o(n){if(null==n)return["",[]];var u=[];if(Array.isArray(n)){var i="";return n.forEach(function(r){if("string"==typeof r)i+="  "+r;else{var t=o(r);u.push("  - "+t[0]),u.push.apply(u,e(t[1].map(function(r){return"    "+r})))}}),i&&u.push(i),["",u]}if(!n.type)return["",[]];var f=""+n.type;return f=(f=f.slice(0,1).toUpperCase()+f.slice(1)).replace(/ /g,"_").replace(/-/g,"_"),Object.keys(n).filter(function(r){return"type"!==r}).forEach(function(i){var a=n[i],p=r(a);if(null===a||"undefined"===p);else if("string"===p||"number"===p||"boolean"===p)f+=" "+i+"="+a;else if("object"===p){u.push("  "+i+":");var l=t(o(a),2),c=l[0],s=l[1];c?(u.push("    "+c),u.push.apply(u,e(s.map(function(r){return"    "+r})))):u.push.apply(u,e(s.map(function(r){return"  "+r})))}}),[f,u]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.writeAst=void 0,exports.writeAst=n;
},{}],"QCba":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var I=require("buffer").Buffer,g=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(exports,"__esModule",{value:!0});var C=require("fs"),A=require("../core/scanner"),l=require("../core/scanner.func"),B=require("../core/parser"),d=require("../core/emitter"),G=g(require("pad")),b=require("./ast"),X=I("LyoKCkEgY29weS1wYXN0ZSBmcm9tIAogLSBodHRwczovL2dpdGh1Yi5jb20vcm9naW52cy90ZXN0X2NyeXB0by9ibG9iL21hc3Rlci9nYWxvaXMuYwogLSBodHRwczovL2dpdGh1Yi5jb20vcm9naW52cy90ZXN0X2NyeXB0by9ibG9iL21hc3Rlci9hZXMuYwoKQ2hhbmdlczoKICAtIG1hY3Jvc2VzIHJlbW92ZWQKICAtIGFsbCBmaWxlcyBtYW51YWxseSBjb25jYXRlbmF0ZWQgdG8gb25lIGZpbGUKICAtIHR5cGVzIGNoYW5nZWQgaW50byAidW5zaWduZWQgY2hhciIKICAtIGFkZGVkIGZ1bmN0aW9uIHRvIGdldCBhZGRyZXNzIG9mIF9pbnZlcnNlX2JpdHNfYWRkcmVzcwogIAogIC0gc3dpdGNoIGlzIHJlcGxhY2VkIGlmLWVsc2UKICAtIGFycmF5IGluICIrIiBvcGVyYXRvciBjaGFuZ2VkIHRvIGFkZHJlc3Mgb2YgYXJyYXkKICAtIGFycmF5IGluIGZ1bmN0aW9uIGFyZ3VtZW50IGlzIHRyYW5zZm9ybWVkIHRvIHBvaW50ZXIgdG8gZmlyc3QgYXJyYXkgZWxlbWVudCAoeCAtPiAmeFswXSkKICAgIAoqLwoKLy8gIGdhbG9pcy5jCgp0eXBlZGVmIHVuc2lnbmVkIGNoYXIgdWludDhfdDsKdHlwZWRlZiBzaWduZWQgY2hhciBpbnQ4X3Q7Cgpjb25zdCB1aW50OF90IEJJVF9MRU4gPSA4OwoKdHlwZWRlZiB1aW50OF90IFBvbHk7CgovKiogVGFibGUgb2YgYnl0ZXMgd2l0aCBiaXRzIGluIGludmVyc2Ugb3JkZXIgKi8KdWludDhfdCBfaW52ZXJzZV9iaXRzWzB4MTAwXTsKCnVpbnQ4X3QgX2ludmVyc2VfYml0c19mb3JfYnl0ZSh1aW50OF90IGEpCnsKICB1aW50OF90IHIgPSAwOwogIGZvciAodWludDhfdCBpID0gMDsgaSA8IDg7IGkrKykKICB7CiAgICBpZiAoKGEgPj4gaSkgJiAxKQogICAgewogICAgICByID0gciArICgxIDw8ICg3IC0gaSkpOwogICAgfQogIH0KICByZXR1cm4gcjsKfTsKCnVpbnQ4X3QgKl9pbnZlcnNlX2JpdHNfYWRkcmVzcygpCnsKICByZXR1cm4gJl9pbnZlcnNlX2JpdHNbMF07Cn0KCnZvaWQgX2luaXRfaW52ZXJzZV9iaXRzX3RhYmxlKCkKewogIF9pbnZlcnNlX2JpdHNbMHgwMF0gPSBfaW52ZXJzZV9iaXRzX2Zvcl9ieXRlKDB4MDApOwogIGZvciAodWludDhfdCBpID0gMHhGRjsgaSA+IDA7IGktLSkKICB7CiAgICBfaW52ZXJzZV9iaXRzW2ldID0gX2ludmVyc2VfYml0c19mb3JfYnl0ZShpKTsKICB9Owp9OwoKUG9seSBwb2x5ID0gMGIwMDAxMTAxMTsKUG9seSBwb2x5X2ludmVyc2VkID0gMGIxMTAxMTAwMDsKCi8qKiBNdWx0aXBsaWNhdGlvbiBvZiB0d28gcG9seW5vbXMgaW4gR0YyLCBiaXRzIGFyZSBpbnZlcnNlZCAqLwpQb2x5IHBvbHlfbXVsdGlwbGVfaW52ZXJzZWQoUG9seSBhLCBQb2x5IGIpCnsKCiAgUG9seSB3aW5kb3cgPSAwOwoKICAvLyBHbyB0aHJvdWdoIGhpZ2hlc3QgZGVncmVlIHRvIGxvd2VzdAogIGZvciAodWludDhfdCBpID0gMDsgaSA8IEJJVF9MRU47IGkrKykKICB7CiAgICB1aW50OF90IGJpdF92YWx1ZSA9IChiID4+IGkpICYgMTsKCiAgICAvLyBwcmludGYoIkJpdCBhcyBwb3MgJWkgdmFsdWU9JWlcbiIsIGksIGJpdF92YWx1ZSk7CiAgICBpZiAoYml0X3ZhbHVlID09IDEpCiAgICB7CiAgICAgIC8vIEJpdCBpcyBzZXQuIFRoaXMgbWVhbnMgdGhhdCB3ZSBzaG91bGQgYWRkCiAgICAgIC8vICAoYSAqIHheKDMxLWkpKSAlIHBvbHkKICAgICAgLy8gaW50byByZXN1bHQKCiAgICAgIC8vIE91ciB3aW5kb3cgaXMgc2hpZnRlZCBsZWZ0IG5vdyBmb3IgMzEtaSBpdGVtcwogICAgICAvLyBUaGlzIG1lYW5zIGl0IGlzIGFscmVhZHkgbXVsdGlwbGllZCBieSB4XigzMS1pKQogICAgICAvLyBTbywgd2UganVzdCBhZGRpbmcgImEiIGludG8gd2luZG93CgogICAgICAvLyBwcmludGYoIiAgQWRkaW5nICdhJyB0byB3aW5kb3cuIEJlZm9yZT0weCUwOHggYWZ0ZXI9MHglMDh4XG4iLCB3aW5kb3csIHdpbmRvdyBeIGEpOwogICAgICB3aW5kb3cgPSB3aW5kb3cgXiBhOwogICAgfQoKICAgIC8vIElmIGl0IGlzIG5vdCB0aGUgbGFzdCBjeWNsZSwgdGhlbiB3ZSBuZWVkIHRvIHNoaWZ0IHdpbmRvdwogICAgLy8gVE9ETzogV2UgY2FuIG9wdGltaXplIHRoaXMgYnkgYWx0ZXJpbmcgbG9vcCwgaS5lLgogICAgLy8gIHdlIGNhbiBoYXZlIGEgbG9vcCB3aXRoIDMxIGl0ZXJhY3Rpb24gYnV0IGRvIGNvcHktcGFzdGVkIHRoaW5ncyBiZWZvcmUgdGhlIGxvb3AuCiAgICAvLyAgVGhpcyBtaWdodCBicmluZyBzb21lIHBlcmZvcm1hbmNlLgogICAgaWYgKGkgIT0gQklUX0xFTiAtIDEpCiAgICB7CiAgICAgIC8vIE5vdyBwcmVwYXJlIGZvciBzaGlmdAogICAgICB1aW50OF90IHdpbmRvd19oaWdoZXN0X2RlZ3JlZV9iaXQgPSB3aW5kb3cgJiAxOwogICAgICAvLyBwcmludGYoIiAgd2luZG93PTB4JTA4eCBzaGlmdGVkV2luZG93PTB4JTA4eCBzaGlmdGVkQml0PSVpXG4iLCB3aW5kb3csIHdpbmRvdyA+PiAxLCB3aW5kb3dfaGlnaGVzdF9kZWdyZWVfYml0KTsKICAgICAgd2luZG93ID0gd2luZG93ID4+IDE7CiAgICAgIGlmICh3aW5kb3dfaGlnaGVzdF9kZWdyZWVfYml0ID09IDEpCiAgICAgIHsKICAgICAgICB3aW5kb3cgPSB3aW5kb3cgXiBwb2x5X2ludmVyc2VkOwogICAgICAgIC8vIHByaW50ZigiICB3aW5kb3dBZnRlclBvbHlYb3I9MHglMDh4XG4iLCB3aW5kb3cpOwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gd2luZG93Owp9OwoKLyoqIE11bHRpcGxpY2F0aW9uIG9mIHR3byBwb2x5bm9tcyBpbiBHRjIgKi8KUG9seSBwb2x5X211bHRpcGxlKFBvbHkgYSwgUG9seSBiKQp7CgogIFBvbHkgd2luZG93ID0gMDsKCiAgLy8gR28gdGhyb3VnaCBoaWdoZXN0IGRlZ3JlZSB0byBsb3dlc3QKICBmb3IgKGludDhfdCBpID0gQklUX0xFTiAtIDE7IGkgPj0gMDsgaS0tKQogIHsKICAgIHVpbnQ4X3QgYml0X3ZhbHVlID0gKGIgPj4gaSkgJiAxOwoKICAgIC8vIHByaW50ZigiQml0IGFzIHBvcyAlaSB2YWx1ZT0laVxuIiwgaSwgYml0X3ZhbHVlKTsKICAgIGlmIChiaXRfdmFsdWUgPT0gMSkKICAgIHsKICAgICAgLy8gQml0IGlzIHNldC4gVGhpcyBtZWFucyB0aGF0IHdlIHNob3VsZCBhZGQKICAgICAgLy8gIChhICogeF4oMzEtaSkpICUgcG9seQogICAgICAvLyBpbnRvIHJlc3VsdAoKICAgICAgLy8gT3VyIHdpbmRvdyBpcyBzaGlmdGVkIGxlZnQgbm93IGZvciAzMS1pIGl0ZW1zCiAgICAgIC8vIFRoaXMgbWVhbnMgaXQgaXMgYWxyZWFkeSBtdWx0aXBsaWVkIGJ5IHheKDMxLWkpCiAgICAgIC8vIFNvLCB3ZSBqdXN0IGFkZGluZyAiYSIgaW50byB3aW5kb3cKCiAgICAgIC8vIHByaW50ZigiICBBZGRpbmcgJ2EnIHRvIHdpbmRvdy4gQmVmb3JlPTB4JTA4eCBhZnRlcj0weCUwOHhcbiIsIHdpbmRvdywgd2luZG93IF4gYSk7CiAgICAgIHdpbmRvdyA9IHdpbmRvdyBeIGE7CiAgICB9CgogICAgLy8gSWYgaXQgaXMgbm90IHRoZSBsYXN0IGN5Y2xlLCB0aGVuIHdlIG5lZWQgdG8gc2hpZnQgd2luZG93CiAgICAvLyBUT0RPOiBXZSBjYW4gb3B0aW1pemUgdGhpcyBieSBhbHRlcmluZyBsb29wLCBpLmUuCiAgICAvLyAgd2UgY2FuIGhhdmUgYSBsb29wIHdpdGggMzEgaXRlcmFjdGlvbiBidXQgZG8gY29weS1wYXN0ZWQgdGhpbmdzIGJlZm9yZSB0aGUgbG9vcC4KICAgIC8vICBUaGlzIG1pZ2h0IGJyaW5nIHNvbWUgcGVyZm9ybWFuY2UuCiAgICBpZiAoaSAhPSAwKQogICAgewogICAgICAvLyBOb3cgcHJlcGFyZSBmb3Igc2hpZnQKICAgICAgdWludDhfdCB3aW5kb3dfaGlnaGVzdF9kZWdyZWVfYml0ID0gKHdpbmRvdyA+PiAoQklUX0xFTiAtIDEpKSAmIDE7CiAgICAgIC8vIHByaW50ZigiICB3aW5kb3c9MHglMDh4IHNoaWZ0ZWRXaW5kb3c9MHglMDh4IHNoaWZ0ZWRCaXQ9JWlcbiIsIHdpbmRvdywgd2luZG93ID4+IDEsIHdpbmRvd19oaWdoZXN0X2RlZ3JlZV9iaXQpOwogICAgICB3aW5kb3cgPSB3aW5kb3cgPDwgMTsKICAgICAgaWYgKHdpbmRvd19oaWdoZXN0X2RlZ3JlZV9iaXQgPT0gMSkKICAgICAgewogICAgICAgIHdpbmRvdyA9IHdpbmRvdyBeIHBvbHk7CiAgICAgICAgLy8gcHJpbnRmKCIgIHdpbmRvd0FmdGVyUG9seVhvcj0weCUwOHhcbiIsIHdpbmRvdyk7CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiB3aW5kb3c7Cn07CgovLyAjaW5jbHVkZSA8c3RkaW8uaD4KLy8gdm9pZCBwcmludF9iaXRzKHVpbnQ4X3QgYSkKLy8gewovLyAgICAgICAgZm9yICh1aW50OF90IGkgPSAwOyBpIDwgODsgaSsrKQovLyAgICAgICAgewovLyAgICAgICAgICAgICAgIHByaW50ZigoYSA+PiAoNyAtIGkpKSAmIDEgPyAiMSIgOiAiMCIpOwovLyAgICAgICAgfTsKLy8gfTsKCnVpbnQ4X3QgcG9seV9kaXZpZGUoUG9seSBhLCBQb2x5IGIsIHVpbnQ4X3QgYV9oYXZlX2hpZ2hlc3RfYml0LCBQb2x5ICpxLCBQb2x5ICpyKQp7CiAgLy8gcHJpbnRmKCJcbkRpdmlkZSAiKTsKICAvLyBwcmludGYoYV9oYXZlX2hpZ2hlc3RfYml0ID8gIjEuIiA6ICIwLiIpOwogIC8vIHByaW50X2JpdHMoYSk7CiAgLy8gcHJpbnRmKCIgYnkgIik7CiAgLy8gcHJpbnRfYml0cyhiKTsKICAvLyBwcmludGYoIlxuIik7CgogIFBvbHkgbG9jYWxfcTsKICBQb2x5IGxvY2FsX3I7CgogIFBvbHkgbmV4dF9xOwogIFBvbHkgbmV4dF9yOwoKICBmb3IgKGludDhfdCBpID0gQklUX0xFTjsgaSA+PSAwOyBpLS0pCiAgewogICAgaWYgKChpID09IEJJVF9MRU4gJiYgYV9oYXZlX2hpZ2hlc3RfYml0KSB8fCAoKGEgPj4gaSkgJiAxKSkKICAgIHsKICAgICAgZm9yIChpbnQ4X3QgaWkgPSAoaSA9PSBCSVRfTEVOID8gaSAtIDEgOiBpKTsgaWkgPj0gMDsgaWktLSkKICAgICAgewogICAgICAgIGlmICgoYiA+PiBpaSkgJiAxKQogICAgICAgIHsKICAgICAgICAgIC8vIHByaW50ZigiRm91bmQgZGl2IGk9JWkgaWk9JWlpXG4iLCBpLCBpaSk7CiAgICAgICAgICBsb2NhbF9xID0gMSA8PCAoaSAtIGlpKTsKICAgICAgICAgIGxvY2FsX3IgPSBhIF4gKGIgPDwgKGkgLSBpaSkpOwoKICAgICAgICAgIC8vIHByaW50ZigiTG9jYWxfcSA9ICIpOwogICAgICAgICAgLy8gcHJpbnRfYml0cyhsb2NhbF9xKTsKICAgICAgICAgIC8vIHByaW50ZigiICBsb2NhbF9yID0gIik7CiAgICAgICAgICAvLyBwcmludF9iaXRzKGxvY2FsX3IpOwogICAgICAgICAgLy8gcHJpbnRmKCJcbiIpOwoKICAgICAgICAgIHBvbHlfZGl2aWRlKGxvY2FsX3IsIGIsIDAsICZuZXh0X3EsICZuZXh0X3IpOwogICAgICAgICAgKnEgPSBsb2NhbF9xIF4gbmV4dF9xOwogICAgICAgICAgKnIgPSBuZXh0X3I7CiAgICAgICAgICAvLyBwcmludGYoIlJldHVybiBxID0gIik7CiAgICAgICAgICAvLyBwcmludF9iaXRzKCpxKTsKICAgICAgICAgIC8vIHByaW50ZigiICByID0gIik7CiAgICAgICAgICAvLyBwcmludF9iaXRzKCpyKTsKICAgICAgICAgIC8vIHByaW50ZigiXG4iKTsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH07CiAgICAgIH07CiAgICAgIC8vIHByaW50ZigiRXJyb3I6IGIgaXMgemVyb1xuIik7CiAgICAgICpxID0gMDsKICAgICAgKnIgPSAwOwogICAgICByZXR1cm4gMTsKICAgIH07CgogICAgaWYgKChiID4+IGkpICYgMSkKICAgIHsKICAgICAgLy8gICAgIHByaW50ZigiRm91bmQgbm9uLXplcm8gYXQgYiBhdCAlaSBwb3MsIGIgaXMgZ3JlYXRlciB0aGFuIGEuIEZpbmlzaGVkXG4iLCBpKTsKICAgICAgLy8gV2UgZm91bmQgYSBub24temVybyB2YWx1ZSBhdCBiLCBidXQgc3RpbGwgbm90IHZhbHVlIGF0IGEKICAgICAgLy8gVGhpcyBtZWFucyBzZWFyY2ggaXMgb3ZlciwgZGVnKGIpID4gZGVnKGEpCiAgICAgICpxID0gMDsKICAgICAgKnIgPSBhOwogICAgICByZXR1cm4gMDsKICAgIH07CiAgfQoKICAvLyBwcmludGYoIkxvbDogYSBpcyB6ZXJvXG4iKTsKICAqcSA9IDA7CiAgKnIgPSAwOwogIHJldHVybiAwOwp9OwoKLyoqIAogKiBBc3N1bWUgdGhhdCBkZWcoYSkgaXMgYWx3YXlzIGJpZ2dlciB0aGFuIGRlZyhiKQogKiAqLwp1aW50OF90IF9nZXRfYmV6b3V0X2lkZW50aXR5KFBvbHkgYSwgUG9seSBiLCB1aW50OF90IGFfaGF2ZV9oaWdoZXN0X2JpdCwgUG9seSAqeCwgUG9seSAqeSkKewogIGlmIChiID09IDBiMSkKICB7CiAgICAqeCA9IDA7CiAgICAqeSA9IDE7CiAgICByZXR1cm4gMDsKICB9CiAgUG9seSBxOwogIFBvbHkgcjsKICBpZiAocG9seV9kaXZpZGUoYSwgYiwgYV9oYXZlX2hpZ2hlc3RfYml0LCAmcSwgJnIpKQogIHsKICAgICp4ID0gMDsKICAgICp5ID0gMDsKICAgIHJldHVybiAxOwogIH07CgogIGlmIChyID09IDBiMCkKICB7CiAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBoYXBwZW4KICAgICp4ID0gMDsKICAgICp5ID0gMDsKICAgIHJldHVybiAyOwogIH07CiAgaWYgKHIgPT0gMGIxKQogIHsKICAgIC8vIFdoaWNoIG1lYW5zIGRlZyhyKSA9IDAKICAgICp4ID0gMGIxOwogICAgKnkgPSBxOwogICAgcmV0dXJuIDA7CiAgfTsKCiAgaWYgKHEgPT0gMCkKICB7CiAgICAvLyBUaGlzIG1lYW5zIGRlZyhhKSB3YXMgbG93ZXIgdGhhbiBkZWYoYikKICAgICp4ID0gMDsKICAgICp5ID0gMDsKICAgIHJldHVybiAzOwogIH07CgogIFBvbHkgeHg7CiAgUG9seSB5eTsKCiAgdWludDhfdCBlcnIgPSBfZ2V0X2Jlem91dF9pZGVudGl0eShiLCByLCAwLCAmeHgsICZ5eSk7CiAgaWYgKGVycikKICB7CiAgICByZXR1cm4gZXJyOwogIH07CgogICp4ID0geXk7CiAgLy8gRGVncmVlIG9mIG11bHRpcGxpY2F0aW9uIHNob3cgYmUgbGVzcyB0aGFuIGRlZyhhKQogICp5ID0geHggXiBwb2x5X211bHRpcGxlKHEsIHl5KTsKICByZXR1cm4gMDsKfTsKClBvbHkgZ2V0X2ludmVyc2VfZWxlbWVudChQb2x5IGIpCnsKICBQb2x5IHg7CiAgUG9seSB5OwoKICB1aW50OF90IGVyciA9IF9nZXRfYmV6b3V0X2lkZW50aXR5KHBvbHksIGIsIDEsICZ4LCAmeSk7CiAgaWYgKGVycikKICB7CiAgICByZXR1cm4gMDsKICB9OwogIHJldHVybiB5Owp9OwoKLy8gPT09PT09PT09PT09PT0gYWVzLmMgPT09PT09PT09PT09PT0KCnVpbnQ4X3QgYnl0ZV9jeWNsaWNfbGVmdF9zaGlmdCh1aW50OF90IHgsIHVpbnQ4X3QgaSkKewogIHJldHVybiAoeCA8PCBpKSB8ICh4ID4+ICg4IC0gaSkpOwp9OwoKdWludDhfdCBfY2FsY19zYm94KHVpbnQ4X3QgeCkKewogIHVpbnQ4X3QgYiA9IHggIT0gMCA/IGdldF9pbnZlcnNlX2VsZW1lbnQoeCkgOiAwOwogIHVpbnQ4X3QgcyA9IGIgXiBieXRlX2N5Y2xpY19sZWZ0X3NoaWZ0KGIsIDEpIF4KICAgICAgICAgICAgICBieXRlX2N5Y2xpY19sZWZ0X3NoaWZ0KGIsIDIpIF4KICAgICAgICAgICAgICBieXRlX2N5Y2xpY19sZWZ0X3NoaWZ0KGIsIDMpIF4KICAgICAgICAgICAgICBieXRlX2N5Y2xpY19sZWZ0X3NoaWZ0KGIsIDQpIF4gMHg2MzsKICByZXR1cm4gczsKfTsKCnVpbnQ4X3QgX3Nib3hbMHgxMDBdOwoKdWludDhfdCAqX2FkZHJlc3Nfc2JveCgpCnsKICByZXR1cm4gJl9zYm94WzBdOwp9Cgp1aW50OF90IF9pbnZfc2JveFsweDEwMF07CnZvaWQgX2luaXRfc2JveCgpCnsKICB1aW50OF90IHZhbDsKCiAgdmFsID0gX2NhbGNfc2JveCgweDAwKTsKICBfc2JveFsweDAwXSA9IHZhbDsKICBfaW52X3Nib3hbdmFsXSA9IDB4MDA7CgogIGZvciAodWludDhfdCBpID0gMHhGRjsgaSAhPSAwOyBpLS0pCiAgewogICAgdmFsID0gX2NhbGNfc2JveChpKTsKICAgIF9zYm94W2ldID0gdmFsOwogICAgX2ludl9zYm94W3ZhbF0gPSBpOwogIH07Cn0KCnR5cGVkZWYgdWludDhfdCAqQmxvY2s7CnR5cGVkZWYgdWludDhfdCAqV29yZDsKY29uc3QgdWludDhfdCBXT1JEX1NJWkUgPSA0Owpjb25zdCB1aW50OF90IFdPUkRTX0lOX0JMT0NLID0gNDsKY29uc3QgdWludDhfdCBCTE9DS19TSVpFID0gV09SRF9TSVpFICogV09SRFNfSU5fQkxPQ0s7Cgp2b2lkIFN1YkJ5dGVzKEJsb2NrIGIpCnsKICBmb3IgKHVpbnQ4X3QgaSA9IDA7IGkgPCBCTE9DS19TSVpFOyBpKyspCiAgewogICAgYltpXSA9IF9zYm94W2JbaV1dOwogIH0KfTsKCnZvaWQgSW52U3ViQnl0ZXMoQmxvY2sgYikKewogIGZvciAodWludDhfdCBpID0gMDsgaSA8IEJMT0NLX1NJWkU7IGkrKykKICB7CiAgICBiW2ldID0gX2ludl9zYm94W2JbaV1dOwogIH0KfTsKCnZvaWQgU2hpZnRSb3dzKEJsb2NrIGIpCnsKICB1aW50OF90IGM7CgogIGMgPSBiWzEzXTsKICBiWzEzXSA9IGJbMV07CiAgYlsxXSA9IGJbNV07CiAgYls1XSA9IGJbOV07CiAgYls5XSA9IGM7CgogIGMgPSBiWzE0XTsKICBiWzE0XSA9IGJbNl07CiAgYls2XSA9IGM7CgogIGMgPSBiWzEwXTsKICBiWzEwXSA9IGJbMl07CiAgYlsyXSA9IGM7CgogIGMgPSBiWzE1XTsKICBiWzE1XSA9IGJbMTFdOwogIGJbMTFdID0gYls3XTsKICBiWzddID0gYlszXTsKICBiWzNdID0gYzsKfTsKCnZvaWQgSW52U2hpZnRSb3dzKEJsb2NrIGIpCnsKICB1aW50OF90IGM7CgogIGMgPSBiWzEzXTsKICBiWzEzXSA9IGJbOV07CiAgYls5XSA9IGJbNV07CiAgYls1XSA9IGJbMV07CiAgYlsxXSA9IGM7CgogIGMgPSBiWzE0XTsKICBiWzE0XSA9IGJbNl07CiAgYls2XSA9IGM7CgogIGMgPSBiWzEwXTsKICBiWzEwXSA9IGJbMl07CiAgYlsyXSA9IGM7CgogIGMgPSBiWzE1XTsKICBiWzE1XSA9IGJbM107CiAgYlszXSA9IGJbN107CiAgYls3XSA9IGJbMTFdOwogIGJbMTFdID0gYzsKfTsKCnVpbnQ4X3QgX3BvbHlfbXVsdGlwbGVfMDJbMHgxMDBdOwp1aW50OF90IF9wb2x5X211bHRpcGxlXzAzWzB4MTAwXTsKdWludDhfdCBfcG9seV9tdWx0aXBsZV8wOVsweDEwMF07CnVpbnQ4X3QgX3BvbHlfbXVsdGlwbGVfMGJbMHgxMDBdOwp1aW50OF90IF9wb2x5X211bHRpcGxlXzBkWzB4MTAwXTsKdWludDhfdCBfcG9seV9tdWx0aXBsZV8wZVsweDEwMF07Cgp2b2lkIF9pbml0X3BvbHlfbXVsdGlwbGljYXRpb25fdGFibGUoKQp7CiAgX3BvbHlfbXVsdGlwbGVfMDJbMHgwMF0gPSAweDAwOwogIF9wb2x5X211bHRpcGxlXzAzWzB4MDBdID0gMHgwMDsKICBfcG9seV9tdWx0aXBsZV8wOVsweDAwXSA9IDB4MDA7CiAgX3BvbHlfbXVsdGlwbGVfMGJbMHgwMF0gPSAweDAwOwogIF9wb2x5X211bHRpcGxlXzBkWzB4MDBdID0gMHgwMDsKICBfcG9seV9tdWx0aXBsZV8wZVsweDAwXSA9IDB4MDA7CgogIGZvciAodWludDhfdCBpID0gMHhGRjsgaSAhPSAwOyBpLS0pCiAgewogICAgX3BvbHlfbXVsdGlwbGVfMDJbaV0gPSBwb2x5X211bHRpcGxlKGksIDB4MDIpOwogICAgX3BvbHlfbXVsdGlwbGVfMDNbaV0gPSBwb2x5X211bHRpcGxlKGksIDB4MDMpOwoKICAgIF9wb2x5X211bHRpcGxlXzA5W2ldID0gcG9seV9tdWx0aXBsZShpLCAweDA5KTsKICAgIF9wb2x5X211bHRpcGxlXzBiW2ldID0gcG9seV9tdWx0aXBsZShpLCAweDBiKTsKICAgIF9wb2x5X211bHRpcGxlXzBkW2ldID0gcG9seV9tdWx0aXBsZShpLCAweDBkKTsKICAgIF9wb2x5X211bHRpcGxlXzBlW2ldID0gcG9seV9tdWx0aXBsZShpLCAweDBlKTsKICB9Owp9OwoKdWludDhfdCBfbWl4X2NvbHVtbl8wKHVpbnQ4X3QgYjAsIHVpbnQ4X3QgYjEsIHVpbnQ4X3QgYjIsIHVpbnQ4X3QgYjMpCnsKICByZXR1cm4gX3BvbHlfbXVsdGlwbGVfMDJbYjBdIF4KICAgICAgICAgX3BvbHlfbXVsdGlwbGVfMDNbYjFdIF4KICAgICAgICAgYjIgXgogICAgICAgICBiMzsKfTsKCnVpbnQ4X3QgX21peF9jb2x1bW5fMSh1aW50OF90IGIwLCB1aW50OF90IGIxLCB1aW50OF90IGIyLCB1aW50OF90IGIzKQp7CiAgcmV0dXJuIGIwIF4KICAgICAgICAgX3BvbHlfbXVsdGlwbGVfMDJbYjFdIF4KICAgICAgICAgX3BvbHlfbXVsdGlwbGVfMDNbYjJdIF4KICAgICAgICAgYjM7Cn07Cgp1aW50OF90IF9taXhfY29sdW1uXzIodWludDhfdCBiMCwgdWludDhfdCBiMSwgdWludDhfdCBiMiwgdWludDhfdCBiMykKewogIHJldHVybiBiMCBeIGIxIF4KICAgICAgICAgX3BvbHlfbXVsdGlwbGVfMDJbYjJdIF4KICAgICAgICAgX3BvbHlfbXVsdGlwbGVfMDNbYjNdOwp9OwoKdWludDhfdCBfbWl4X2NvbHVtbl8zKHVpbnQ4X3QgYjAsIHVpbnQ4X3QgYjEsIHVpbnQ4X3QgYjIsIHVpbnQ4X3QgYjMpCnsKICByZXR1cm4gX3BvbHlfbXVsdGlwbGVfMDNbYjBdIF4KICAgICAgICAgYjEgXiBiMiBeCiAgICAgICAgIF9wb2x5X211bHRpcGxlXzAyW2IzXTsKfTsKCnZvaWQgTWl4Q29sdW1ucyhCbG9jayBiKQp7CiAgdWludDhfdCBhMDsKICB1aW50OF90IGExOwogIHVpbnQ4X3QgYTI7CiAgdWludDhfdCBhMzsKICBmb3IgKHVpbnQ4X3QgaSA9IDA7IGkgPCA0OyBpKyspCiAgewogICAgYTAgPSBiW2kgKiA0ICsgMF07CiAgICBhMSA9IGJbaSAqIDQgKyAxXTsKICAgIGEyID0gYltpICogNCArIDJdOwogICAgYTMgPSBiW2kgKiA0ICsgM107CiAgICBiW2kgKiA0ICsgMF0gPSBfbWl4X2NvbHVtbl8wKGEwLCBhMSwgYTIsIGEzKTsKICAgIGJbaSAqIDQgKyAxXSA9IF9taXhfY29sdW1uXzEoYTAsIGExLCBhMiwgYTMpOwogICAgYltpICogNCArIDJdID0gX21peF9jb2x1bW5fMihhMCwgYTEsIGEyLCBhMyk7CiAgICBiW2kgKiA0ICsgM10gPSBfbWl4X2NvbHVtbl8zKGEwLCBhMSwgYTIsIGEzKTsKICB9Cn0KCnVpbnQ4X3QgX2ludl9taXhfY29sdW1uXzAodWludDhfdCBiMCwgdWludDhfdCBiMSwgdWludDhfdCBiMiwgdWludDhfdCBiMykKewogIHJldHVybiBfcG9seV9tdWx0aXBsZV8wZVtiMF0gXgogICAgICAgICBfcG9seV9tdWx0aXBsZV8wYltiMV0gXgogICAgICAgICBfcG9seV9tdWx0aXBsZV8wZFtiMl0gXgogICAgICAgICBfcG9seV9tdWx0aXBsZV8wOVtiM107Cn07Cgp1aW50OF90IF9pbnZfbWl4X2NvbHVtbl8xKHVpbnQ4X3QgYjAsIHVpbnQ4X3QgYjEsIHVpbnQ4X3QgYjIsIHVpbnQ4X3QgYjMpCnsKICByZXR1cm4gX3BvbHlfbXVsdGlwbGVfMDlbYjBdIF4KICAgICAgICAgX3BvbHlfbXVsdGlwbGVfMGVbYjFdIF4KICAgICAgICAgX3BvbHlfbXVsdGlwbGVfMGJbYjJdIF4KICAgICAgICAgX3BvbHlfbXVsdGlwbGVfMGRbYjNdOwp9OwoKdWludDhfdCBfaW52X21peF9jb2x1bW5fMih1aW50OF90IGIwLCB1aW50OF90IGIxLCB1aW50OF90IGIyLCB1aW50OF90IGIzKQp7CiAgcmV0dXJuIF9wb2x5X211bHRpcGxlXzBkW2IwXSBeCiAgICAgICAgIF9wb2x5X211bHRpcGxlXzA5W2IxXSBeCiAgICAgICAgIF9wb2x5X211bHRpcGxlXzBlW2IyXSBeCiAgICAgICAgIF9wb2x5X211bHRpcGxlXzBiW2IzXTsKfTsKCnVpbnQ4X3QgX2ludl9taXhfY29sdW1uXzModWludDhfdCBiMCwgdWludDhfdCBiMSwgdWludDhfdCBiMiwgdWludDhfdCBiMykKewogIHJldHVybiBfcG9seV9tdWx0aXBsZV8wYltiMF0gXgogICAgICAgICBfcG9seV9tdWx0aXBsZV8wZFtiMV0gXgogICAgICAgICBfcG9seV9tdWx0aXBsZV8wOVtiMl0gXgogICAgICAgICBfcG9seV9tdWx0aXBsZV8wZVtiM107Cn07Cgp2b2lkIEludk1peENvbHVtbnMoQmxvY2sgYikKewogIHVpbnQ4X3QgYTA7CiAgdWludDhfdCBhMTsKICB1aW50OF90IGEyOwogIHVpbnQ4X3QgYTM7CiAgZm9yICh1aW50OF90IGkgPSAwOyBpIDwgNDsgaSsrKQogIHsKICAgIGEwID0gYltpICogNCArIDBdOwogICAgYTEgPSBiW2kgKiA0ICsgMV07CiAgICBhMiA9IGJbaSAqIDQgKyAyXTsKICAgIGEzID0gYltpICogNCArIDNdOwogICAgYltpICogNCArIDBdID0gX2ludl9taXhfY29sdW1uXzAoYTAsIGExLCBhMiwgYTMpOwogICAgYltpICogNCArIDFdID0gX2ludl9taXhfY29sdW1uXzEoYTAsIGExLCBhMiwgYTMpOwogICAgYltpICogNCArIDJdID0gX2ludl9taXhfY29sdW1uXzIoYTAsIGExLCBhMiwgYTMpOwogICAgYltpICogNCArIDNdID0gX2ludl9taXhfY29sdW1uXzMoYTAsIGExLCBhMiwgYTMpOwogIH0KfQoKY29uc3QgdWludDhfdCBNQVhfUkNPTiA9IDEwOwoKdWludDhfdCBfcmNvbltXT1JEX1NJWkUgKiBNQVhfUkNPTl07CnZvaWQgX2luaXRfcmNvbigpCnsKICBQb2x5IHhpID0gMGIxOwogIGZvciAodWludDhfdCBpID0gMDsgaSA8IDEwOyBpKyspCiAgewogICAgX3Jjb25baSAqIFdPUkRfU0laRSArIDBdID0geGk7CiAgICBfcmNvbltpICogV09SRF9TSVpFICsgMV0gPSAwOwogICAgX3Jjb25baSAqIFdPUkRfU0laRSArIDJdID0gMDsKICAgIF9yY29uW2kgKiBXT1JEX1NJWkUgKyAzXSA9IDA7CgogICAgeGkgPSBwb2x5X211bHRpcGxlKHhpLCAwYjEwKTsKICB9Cn07Cgp2b2lkIGluaXRfdGFibGVzKCkKewogIF9pbml0X3Nib3goKTsKICBfaW5pdF9yY29uKCk7CiAgX2luaXRfcG9seV9tdWx0aXBsaWNhdGlvbl90YWJsZSgpOwp9OwoKdWludDhfdCAqZ2V0X3Jjb25fYXQodWludDhfdCBpKQp7CiAgcmV0dXJuICgmX3Jjb25bMF0gKyAoaSAtIDEpICogV09SRF9TSVpFKTsKfTsKCmNvbnN0IHVpbnQ4X3QgQUVTXzEyOF9LRVlfU0laRSA9ICg0ICogV09SRF9TSVpFKTsKY29uc3QgdWludDhfdCBBRVNfMTkyX0tFWV9TSVpFID0gKDYgKiBXT1JEX1NJWkUpOwpjb25zdCB1aW50OF90IEFFU18yNTZfS0VZX1NJWkUgPSAoOCAqIFdPUkRfU0laRSk7Cgpjb25zdCB1aW50OF90IF9BRVNfMTI4X1JPVU5EU19DT1VOVCA9IDEwOwpjb25zdCB1aW50OF90IF9BRVNfMTkyX1JPVU5EU19DT1VOVCA9IDEyOwpjb25zdCB1aW50OF90IF9BRVNfMjU2X1JPVU5EU19DT1VOVCA9IDE0OwoKdWludDhfdCBfZ2V0X3JvdW5kc19jb3VudCh1aW50OF90IGtleV9zaXplKQp7CiAgaWYgKGtleV9zaXplID09IEFFU18xMjhfS0VZX1NJWkUpCiAgewogICAgcmV0dXJuIF9BRVNfMTI4X1JPVU5EU19DT1VOVDsKICB9CiAgZWxzZSBpZiAoa2V5X3NpemUgPT0gQUVTXzE5Ml9LRVlfU0laRSkKICB7CiAgICByZXR1cm4gX0FFU18xOTJfUk9VTkRTX0NPVU5UOwogIH0KICBlbHNlIGlmIChrZXlfc2l6ZSA9PSBBRVNfMjU2X0tFWV9TSVpFKQogIHsKICAgIHJldHVybiBfQUVTXzI1Nl9ST1VORFNfQ09VTlQ7CiAgfQoKICByZXR1cm4gMDsKfQoKY29uc3QgdWludDhfdCBBRVNfMTI4X0VYUEFOREVEX0tFWV9TSVpFID0gV09SRF9TSVpFICogV09SRFNfSU5fQkxPQ0sgKiAoX0FFU18xMjhfUk9VTkRTX0NPVU5UICsgMSk7CmNvbnN0IHVpbnQ4X3QgQUVTXzE5Ml9FWFBBTkRFRF9LRVlfU0laRSA9IFdPUkRfU0laRSAqIFdPUkRTX0lOX0JMT0NLICogKF9BRVNfMTkyX1JPVU5EU19DT1VOVCArIDEpOwpjb25zdCB1aW50OF90IEFFU18yNTZfRVhQQU5ERURfS0VZX1NJWkUgPSBXT1JEX1NJWkUgKiBXT1JEU19JTl9CTE9DSyAqIChfQUVTXzI1Nl9ST1VORFNfQ09VTlQgKyAxKTsKCi8vIE1heGltdW0gaXMgMjQwIGJ5dGVzCnVpbnQ4X3QgZ2V0X3NpemVfb2Zfa2V5X2V4cGFuc2lvbl9idWZmZXIodWludDhfdCBrZXlfc2l6ZSkKewogIHJldHVybiBXT1JEX1NJWkUgKiBXT1JEU19JTl9CTE9DSyAqIChfZ2V0X3JvdW5kc19jb3VudChrZXlfc2l6ZSkgKyAxKTsKfTsKCnZvaWQgU3ViV29yZChXb3JkIHcpCnsKICBmb3IgKHVpbnQ4X3QgaSA9IDA7IGkgPCA0OyBpKyspCiAgewogICAgd1tpXSA9IF9zYm94W3dbaV1dOwogIH07Cn07Cgp2b2lkIFJvdFdvcmQoV29yZCB3KQp7CiAgdWludDhfdCBjOwogIGMgPSB3WzBdOwogIHdbMF0gPSB3WzFdOwogIHdbMV0gPSB3WzJdOwogIHdbMl0gPSB3WzNdOwogIHdbM10gPSBjOwp9OwoKdm9pZCBBZGRXb3JkcyhXb3JkIGEsIFdvcmQgYikKewogIGFbMF0gPSBhWzBdIF4gYlswXTsKICBhWzFdID0gYVsxXSBeIGJbMV07CiAgYVsyXSA9IGFbMl0gXiBiWzJdOwogIGFbM10gPSBhWzNdIF4gYlszXTsKfQoKdm9pZCBmaWxsX2tleV9leHBhbnNpb24odWludDhfdCAqa2V5LCB1aW50OF90IGtleV9zaXplLCB1aW50OF90ICpidWYpCnsKCiAgdWludDhfdCBrZXlfc2l6ZV9pbl93b3JkcyA9IGtleV9zaXplIC8gV09SRF9TSVpFOwoKICBmb3IgKHVpbnQ4X3QgaSA9IDA7IGkgPCA0ICogKF9nZXRfcm91bmRzX2NvdW50KGtleV9zaXplKSArIDEpOyBpKyspCiAgewogICAgaWYgKGkgPCBrZXlfc2l6ZV9pbl93b3JkcykKICAgIHsKICAgICAgZm9yICh1aW50OF90IGlpID0gMDsgaWkgPCBXT1JEX1NJWkU7IGlpKyspCiAgICAgIHsKICAgICAgICBidWZbaSAqIFdPUkRfU0laRSArIGlpXSA9IGtleVtpICogV09SRF9TSVpFICsgaWldOwogICAgICB9OwogICAgfQogICAgZWxzZQogICAgewogICAgICBmb3IgKHVpbnQ4X3QgaWkgPSAwOyBpaSA8IFdPUkRfU0laRTsgaWkrKykKICAgICAgewogICAgICAgIGJ1ZltpICogV09SRF9TSVpFICsgaWldID0gYnVmWyhpIC0gMSkgKiBXT1JEX1NJWkUgKyBpaV07CiAgICAgIH0KCiAgICAgIGlmIChpICUga2V5X3NpemVfaW5fd29yZHMgPT0gMCkKICAgICAgewogICAgICAgIFJvdFdvcmQoYnVmICsgaSAqIFdPUkRfU0laRSk7CiAgICAgICAgU3ViV29yZChidWYgKyBpICogV09SRF9TSVpFKTsKICAgICAgICBBZGRXb3JkcyhidWYgKyBpICogV09SRF9TSVpFLCBnZXRfcmNvbl9hdChpIC8ga2V5X3NpemVfaW5fd29yZHMpKTsKICAgICAgfTsKICAgICAgaWYgKGtleV9zaXplX2luX3dvcmRzID09IDggJiYgaSAlIGtleV9zaXplX2luX3dvcmRzID09IDQpCiAgICAgIHsKICAgICAgICBTdWJXb3JkKGJ1ZiArIGkgKiBXT1JEX1NJWkUpOwogICAgICB9OwogICAgICBBZGRXb3JkcyhidWYgKyBpICogV09SRF9TSVpFLCBidWYgKyAoaSAtIGtleV9zaXplX2luX3dvcmRzKSAqIFdPUkRfU0laRSk7CiAgICB9CiAgfQp9OwoKdm9pZCBBZGRSb3VuZEtleShCbG9jayBiLCB1aW50OF90IHJvdW5kLCB1aW50OF90ICpleHBhbmRlZF9rZXkpCnsKICBmb3IgKHVpbnQ4X3QgaSA9IDA7IGkgPCBCTE9DS19TSVpFOyBpKyspCiAgewogICAgYltpXSA9IGJbaV0gXiBleHBhbmRlZF9rZXlbcm91bmQgKiBCTE9DS19TSVpFICsgaV07CiAgfTsKfTsKCnZvaWQgYWVzX2VuY3J5cHRfYmxvY2soQmxvY2sgYiwgdWludDhfdCAqZXhwYW5kZWRfa2V5LCB1aW50OF90IGtleV9zaXplKQp7CiAgQWRkUm91bmRLZXkoYiwgMCwgZXhwYW5kZWRfa2V5KTsKICB1aW50OF90IHJvdW5kc19jb3VudCA9IF9nZXRfcm91bmRzX2NvdW50KGtleV9zaXplKTsKICBmb3IgKHVpbnQ4X3Qgcm91bmQgPSAxOyByb3VuZCA8IHJvdW5kc19jb3VudDsgcm91bmQrKykKICB7CiAgICBTdWJCeXRlcyhiKTsKICAgIFNoaWZ0Um93cyhiKTsKICAgIE1peENvbHVtbnMoYik7CiAgICBBZGRSb3VuZEtleShiLCByb3VuZCwgZXhwYW5kZWRfa2V5KTsKICB9OwogIFN1YkJ5dGVzKGIpOwogIFNoaWZ0Um93cyhiKTsKICBBZGRSb3VuZEtleShiLCByb3VuZHNfY291bnQsIGV4cGFuZGVkX2tleSk7Cn07Cgp2b2lkIGFlc19kZWNyeXB0X2Jsb2NrKEJsb2NrIGIsIHVpbnQ4X3QgKmV4cGFuZGVkX2tleSwgdWludDhfdCBrZXlfc2l6ZSkKewogIHVpbnQ4X3Qgcm91bmRzX2NvdW50ID0gX2dldF9yb3VuZHNfY291bnQoa2V5X3NpemUpOwogIEFkZFJvdW5kS2V5KGIsIHJvdW5kc19jb3VudCwgZXhwYW5kZWRfa2V5KTsKICBJbnZTaGlmdFJvd3MoYik7CiAgSW52U3ViQnl0ZXMoYik7CiAgZm9yICh1aW50OF90IHJvdW5kID0gcm91bmRzX2NvdW50IC0gMTsgcm91bmQgIT0gMDsgcm91bmQtLSkKICB7CiAgICBBZGRSb3VuZEtleShiLCByb3VuZCwgZXhwYW5kZWRfa2V5KTsKICAgIEludk1peENvbHVtbnMoYik7CiAgICBJbnZTaGlmdFJvd3MoYik7CiAgICBJbnZTdWJCeXRlcyhiKTsKICB9CiAgQWRkUm91bmRLZXkoYiwgMCwgZXhwYW5kZWRfa2V5KTsKfTsK","base64").toString(),i=I("LyoKCkEgY29weS1wYXN0ZSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2dpbnZzL2NfdGhyZWFkcy9ibG9iL21hc3Rlci9jcmMzMi5jCiAKIC0gdHlwZWRlZnMgZm9yIHVpbnQzMl90CiAtIHJlbW92ZWQgdXNlbGVzcyBkb3duY2FzdGluZyBpbiBjcmMzMl9pbml0X3RhYmxlCgoqLwoKdHlwZWRlZiB1bnNpZ25lZCBpbnQgdWludDMyX3Q7CnR5cGVkZWYgdW5zaWduZWQgY2hhciB1aW50OF90OwoKLyoqIFRoaXMgaXMgY3JjIHRhYmxlLiBXaWxsIGJlIGZpbGxlZCB1c2luZyBmaWxsX2NyY190YWJsZSBmdW5jdGlvbiAqLwp1aW50MzJfdCB0YWJsZVsweDEwMF07CgovLyAweDA0QzExREI3IGJ1dCBhbGwgYml0cyBhcmUgcmV2ZXJzZWQKdWludDMyX3QgcG9seSA9IDB4RURCODgzMjA7CgovKiogCiAqIENhbGN1bGF0ZXMgb25lIGJ5dGUgZm9yIHRhYmxlIGNyYy4KICogCiAqIFdlIHVzZSByZXZlcnNlZC1iaXRzIG9yZGVyIGZvciBlYWNoIGlucHV0IGJ5dGUuCiAqIEl0IG1lYW5zIHJpZ2h0IGJpdCBpcyBoaWdoZXN0IGRlZ3JlZS4KICogRXg6IDBiMSA9IHheNyAgLCAwYjEwMDAwMDAwID0gMSwgMGIxMTAwMDAwMCA9IHggKyAxCiAqIAogKiBTYW1lLCB3ZSB1c2UgcmV2ZXJzZWQgcG9seW5vbSByZXByZXNlbnRhdGlvbiBmb3IgY3JjLgogKiBJdCBtZWFucyBhbGwgYml0cyBpbiBjcmMzMiBhcmUgcmV2ZXJzZWQsIG5vdCBpbiB0aGUgYnl0ZS4KICogRXg6IDBiMSA9IHheMzEgKGJlY2F1c2UgY3JjMzIgaXMgMzIgYml0cykKICogRXg6IDB4ODAwMDAwMDAgPSAxIChtb3N0IHNpZ25pZmljYW50IGJpdCBpcyBzZXQpCiAqIAogKiAqLwp1aW50MzJfdCBfY3JjMzJfZm9yX2J5dGUodWludDhfdCBieXRlKQp7CiAgdWludDMyX3QgcmVzdWx0ID0gMDsKCiAgdWludDhfdCBwb2x5X2hpZ2hfYnl0ZSA9ICooKHVpbnQ4X3QgKikmcG9seSk7CgogIC8vIHByaW50ZigiVGFibGUgZm9yIGJ5dGUgMHglMDJ4XG4iLCBieXRlKTsKCiAgLy8geF43IGlzIG9uIHRoZSB6ZXJvIHBvc2l0aW9uCiAgLy8gU28sIHN0YXJ0aW5nIGZyb20gemVybyB0byA3IG1lYW5zCiAgLy8gZ29pbmcgdGhyb3VnaCB4XjcgdG8geF4wCiAgZm9yICh1aW50OF90IGkgPSAwOyBpIDwgODsgKytpKQogIHsKCiAgICB1aW50OF90IGJpdCA9IChieXRlID4+IGkpICYgMTsKCiAgICAvLyBwcmludGYoIkJpdCAlaSB2YWx1ZSA9ICVpXG4iLCBpLCBiaXQpOwogICAgaWYgKGJpdCA9PSAxKQogICAgewogICAgICAvLyBNb3ZlIG5hdGl2ZSBwb2x5IHRvIHRoZSBsZWZ0IHRvIHRoZSA3LWkgcG9zaXRpb25zCiAgICAgIC8vIFdoaWNoIGlzIG1vdmUgcmlnaHQKICAgICAgcmVzdWx0ID0gcmVzdWx0IF4gKHBvbHkgPj4gKDcgLSBpKSk7CiAgICAgIC8vIGJ5dGUgPSBieXRlIF4gKDEgPj4gYml0X3Bvcyk7IC8vIFRoaXMgY2FuIGJlIHNraXBwZWQKICAgICAgYnl0ZSA9IGJ5dGUgXiAocG9seV9oaWdoX2J5dGUgPDwgKGkgKyAxKSk7CiAgICB9OwogIH07CgogIHJldHVybiByZXN1bHQ7Cn0KCi8qKiAKICogQ2FsbCBtZSBpbiBzdGFydHVwIQogKi8Kdm9pZCBjcmMzMl9pbml0X3RhYmxlKCkKewogIGZvciAodWludDMyX3QgaSA9IDA7IGkgPCAweDEwMDsgaSsrKQogIHsKICAgIHRhYmxlW2ldID0gX2NyYzMyX2Zvcl9ieXRlKGkpOwogIH0KfQoKLyoqIERvIGEgb25lLWJ5dGUgcG9seW5vbSBkaXZpc2lvbiAqLwp2b2lkIHBvbHlfcmVtYWluZGVyX3N0ZXAodWludDhfdCBuZXh0X2J5dGUsIHVpbnQzMl90ICpjcmMpCnsKICB1aW50OF90IHNoaWZ0ZWRfYnl0ZSA9ICooKHVpbnQ4X3QgKiljcmMpOwoKICB1aW50MzJfdCB4b3JpbmcgPSB0YWJsZVtzaGlmdGVkX2J5dGVdOwoKICAvKgogICAgICAgICAgICAgIHByaW50ZigiaT0laSBzaGlmdGVkX2J5dGU9JTAyeCB4b3Jpbmc9JTAyeCBuZXh0X2J5dGU9JTAyeCBjdXJDcmM9JTA4eCBzaGlmdGVkQ3JjPSUwOHggbmV4dENyYz0lMDh4XG4iLAogICAgICAgICAgICAgICAgICAgICBpLCBzaGlmdGVkX2J5dGUsIHhvcmluZywgbmV4dF9ieXRlLAogICAgICAgICAgICAgICAgICAgICAqY3JjLAogICAgICAgICAgICAgICAgICAgICAoKmNyYyA8PCA4KSB8IG5leHRfYnl0ZSwKICAgICAgICAgICAgICAgICAgICAgKCgqY3JjIDw8IDgpIHwgbmV4dF9ieXRlKSBeIHhvcmluZyk7CiovCgogIC8vIFNoaWZ0aW5nIGNyYyB3aXRoIG5leHQgYnl0ZQogICpjcmMgPSAoKmNyYyA+PiA4KSB8IChuZXh0X2J5dGUgPDwgMjQpOwoKICAvLyBBbmQgdGhlbiB4b3Igd2l0aCB0YWJsZSB2YWx1ZSBmcm9tIHNoaWZ0ZWQgYnl0ZQogICpjcmMgPSAqY3JjIF4geG9yaW5nOwp9CnVpbnQzMl90IHBvbHlfcmVtYWluZGVyKGNvbnN0IHVpbnQ4X3QgKmRhdGEsIHVpbnQzMl90IG5fYnl0ZXMpCnsKICB1aW50MzJfdCBjcmMgPSAwOwogIGZvciAodWludDMyX3QgaSA9IDA7IGkgPCBuX2J5dGVzOyBpKyspCiAgewogICAgdWludDhfdCBuZXh0X2J5dGUgPSBkYXRhW2ldOwogICAgcG9seV9yZW1haW5kZXJfc3RlcChuZXh0X2J5dGUsICZjcmMpOwogIH0KICByZXR1cm4gY3JjOwp9CgovKiogTXVsdGlwbGljYXRpb24gb2YgdHdvIHBvbHlub21zIGluIEdGMiAqLwp1aW50MzJfdCBwb2x5X211bHRpcGxlKHVpbnQzMl90IGEsIHVpbnQzMl90IGIpCnsKICAvLyBNdWx0aXBsaWNhdGlvbiByZXN1bHQKICAvLyBJdCBpcyBzbGlkaW5nIGZyb20geF42Mi4ueF4zMSB0byB4XjMxLi4wIHJhbmdlCiAgLy8gV2h5IHheNjIgPyBCZWNhdXNlIHdlIGhhdmUgdHdvIHBvbHlub21zIHdoaWNoCiAgLy8gIGhpZ2hlc3QgZGVncmVlIGlzIHheMzEKICAvLyBUb3RhbCBhbW91bnRzIG9mIHdpbmRvdyBzaGlmdHMgaXMgMzEKICB1aW50MzJfdCB3aW5kb3cgPSAwOwoKICAvLyBwcmludGYoIk11bHRpcGxpY2F0aW9uIDB4JTA4eCAqIDB4JTA4eFxuIiwgYSwgYik7CgogIC8vIEdvIHRocm91Z2ggaGlnaGVzdCBkZWdyZWUgdG8gbG93ZXN0CiAgZm9yICh1aW50OF90IGkgPSAwOyBpIDwgMzI7IGkrKykKICB7CiAgICB1aW50OF90IGJpdF92YWx1ZSA9IChiID4+IGkpICYgMTsKCiAgICAvLyBwcmludGYoIkJpdCBhcyBwb3MgJWkgdmFsdWU9JWlcbiIsIGksIGJpdF92YWx1ZSk7CiAgICBpZiAoYml0X3ZhbHVlID09IDEpCiAgICB7CiAgICAgIC8vIEJpdCBpcyBzZXQuIFRoaXMgbWVhbnMgdGhhdCB3ZSBzaG91bGQgYWRkCiAgICAgIC8vICAoYSAqIHheKDMxLWkpKSAlIHBvbHkKICAgICAgLy8gaW50byByZXN1bHQKCiAgICAgIC8vIE91ciB3aW5kb3cgaXMgc2hpZnRlZCBsZWZ0IG5vdyBmb3IgMzEtaSBpdGVtcwogICAgICAvLyBUaGlzIG1lYW5zIGl0IGlzIGFscmVhZHkgbXVsdGlwbGllZCBieSB4XigzMS1pKQogICAgICAvLyBTbywgd2UganVzdCBhZGRpbmcgImEiIGludG8gd2luZG93CgogICAgICAvLyBwcmludGYoIiAgQWRkaW5nICdhJyB0byB3aW5kb3cuIEJlZm9yZT0weCUwOHggYWZ0ZXI9MHglMDh4XG4iLCB3aW5kb3csIHdpbmRvdyBeIGEpOwogICAgICB3aW5kb3cgPSB3aW5kb3cgXiBhOwogICAgfQoKICAgIC8vIElmIGl0IGlzIG5vdCB0aGUgbGFzdCBjeWNsZSwgdGhlbiB3ZSBuZWVkIHRvIHNoaWZ0IHdpbmRvdwogICAgLy8gVE9ETzogV2UgY2FuIG9wdGltaXplIHRoaXMgYnkgYWx0ZXJpbmcgbG9vcCwgaS5lLgogICAgLy8gIHdlIGNhbiBoYXZlIGEgbG9vcCB3aXRoIDMxIGl0ZXJhY3Rpb24gYnV0IGRvIGNvcHktcGFzdGVkIHRoaW5ncyBiZWZvcmUgdGhlIGxvb3AuCiAgICAvLyAgVGhpcyBtaWdodCBicmluZyBzb21lIHBlcmZvcm1hbmNlLgogICAgaWYgKGkgIT0gMzEpCiAgICB7CiAgICAgIC8vIE5vdyBwcmVwYXJlIGZvciBzaGlmdAogICAgICB1aW50OF90IHdpbmRvd19oaWdoZXN0X2RlZ3JlZV9iaXQgPSB3aW5kb3cgJiAxOwogICAgICAvLyBwcmludGYoIiAgd2luZG93PTB4JTA4eCBzaGlmdGVkV2luZG93PTB4JTA4eCBzaGlmdGVkQml0PSVpXG4iLCB3aW5kb3csIHdpbmRvdyA+PiAxLCB3aW5kb3dfaGlnaGVzdF9kZWdyZWVfYml0KTsKICAgICAgd2luZG93ID0gd2luZG93ID4+IDE7CiAgICAgIGlmICh3aW5kb3dfaGlnaGVzdF9kZWdyZWVfYml0ID09IDEpCiAgICAgIHsKICAgICAgICB3aW5kb3cgPSB3aW5kb3cgXiBwb2x5OwogICAgICAgIC8vIHByaW50ZigiICB3aW5kb3dBZnRlclBvbHlYb3I9MHglMDh4XG4iLCB3aW5kb3cpOwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gd2luZG93Owp9CgovKioKICogUmV0dXJucyBwb2x5bm9tIGluIEdGMiB3aGljaCBlcXVhbCB4Xihwb3dlcio4KQogKiAqLwp1aW50MzJfdCBwb2x5X3Bvd2VyX29mX24odWludDMyX3QgcG93ZXIpCnsKICBpZiAocG93ZXIgPT0gMCkKICB7CiAgICByZXR1cm4gMGIxIDw8ICgzMSAtIDApOwogIH0KICBlbHNlIGlmIChwb3dlciA9PSAxKQogIHsKICAgIHJldHVybiAwYjEgPDwgKDMxIC0gOCk7CiAgfQogIGVsc2UgaWYgKHBvd2VyID09IDIpCiAgewogICAgcmV0dXJuIDBiMSA8PCAoMzEgLSA4IC0gOCk7CiAgfQogIGVsc2UgaWYgKHBvd2VyID09IDMpCiAgewogICAgcmV0dXJuIDBiMSA8PCAoMzEgLSA4IC0gOCAtIDgpOwogIH07CiAgdWludDMyX3QgaGFsZl9wb3dlciA9IHBvd2VyIC8gMjsKICB1aW50MzJfdCBwb2x5X29mX2hhbGZfcG93ZXIgPSBwb2x5X3Bvd2VyX29mX24oaGFsZl9wb3dlcik7CiAgdWludDMyX3QgcG9seV9vZl9mbG9vcl9ldmVuID0gcG9seV9tdWx0aXBsZShwb2x5X29mX2hhbGZfcG93ZXIsIHBvbHlfb2ZfaGFsZl9wb3dlcik7CiAgaWYgKHBvd2VyICUgMiA9PSAwKQogIHsKICAgIHJldHVybiBwb2x5X29mX2Zsb29yX2V2ZW47CiAgfQogIGVsc2UKICB7CiAgICByZXR1cm4gcG9seV9tdWx0aXBsZShwb2x5X29mX2Zsb29yX2V2ZW4sIHBvbHlfcG93ZXJfb2ZfbigxKSk7CiAgfQp9CgovKiogCiAqIFNpbmdsZS10aHJlYWRlZCBjcmMzMgogKi8KdWludDMyX3QgY3JjMzIoY29uc3QgdWludDhfdCAqZGF0YSwgdWludDMyX3QgbGVuZ3RoKQp7CiAgLyoKICAgICAgIEluIHN1bW1hcnk6CgogICAgICAgLSAoc2tpcCBkdWUgdG8gY2hhbmdlZCBjcmMgdGFibGUpIFJlZmxlY3QgaW5wdXQgYnl0ZXMKICAgICAgIC0gQWRkIDQgemVybyBieXRlcyB0byBpbnB1dAogICAgICAgLSBYb3IgZmlyc3QgNCBpbnB1dCBieXRlcyB3aXRoIDB4RkYKICAgICAgIC0gUGVyZm9ybSBwb2x5bm9tIGRpdmlzaW9uCiAgICAgICAtIFhvciBmaW5hbCBjcmMgYnkgMHhGRkZGRkZGRgogICAgICAgLSAoc2tpcCBkdWUgdG8gY2hhbmdlZCBjcmMgYWNjdW11bGF0b3IpIFJlZmxlY3QgYWxsIGJpdHMgKDMyKSBpbiBjcmMgCgoqLwogIHVpbnQzMl90IGNyYyA9IDB4MDsKICBmb3IgKHVpbnQzMl90IGkgPSAwOyBpIDwgNCAmJiBpIDwgbGVuZ3RoOyBpKyspCiAgewogICAgdWludDhfdCBuZXh0X2J5dGUgPSBkYXRhW2ldIF4gMHhGRjsKICAgIHBvbHlfcmVtYWluZGVyX3N0ZXAobmV4dF9ieXRlLCAmY3JjKTsKICB9CiAgZm9yICh1aW50MzJfdCBpID0gNDsgaSA8IGxlbmd0aDsgaSsrKQogIHsKICAgIHVpbnQ4X3QgbmV4dF9ieXRlID0gZGF0YVtpXTsKICAgIHBvbHlfcmVtYWluZGVyX3N0ZXAobmV4dF9ieXRlLCAmY3JjKTsKICB9OwogIHBvbHlfcmVtYWluZGVyX3N0ZXAobGVuZ3RoIDw9IDMgPyAweEZGIDogMHgwMCwgJmNyYyk7CiAgcG9seV9yZW1haW5kZXJfc3RlcChsZW5ndGggPD0gMiA/IDB4RkYgOiAweDAwLCAmY3JjKTsKICBwb2x5X3JlbWFpbmRlcl9zdGVwKGxlbmd0aCA8PSAxID8gMHhGRiA6IDB4MDAsICZjcmMpOwogIHBvbHlfcmVtYWluZGVyX3N0ZXAobGVuZ3RoIDw9IDAgPyAweEZGIDogMHgwMCwgJmNyYyk7CiAgY3JjID0gY3JjIF4gMHhGRkZGRkZGRjsKICByZXR1cm4gY3JjOwp9Cgp1aW50MzJfdCBjcmMzMl9wYXJ0aWFsX2Jsb2NrKGNvbnN0IHVpbnQ4X3QgKmRhdGEsIHVpbnQzMl90IGJsb2NrX2xlbmd0aCwgdWludDMyX3QgYnl0ZXNfYmVmb3JlLCB1aW50MzJfdCBieXRlc19hZnRlcikKewoKICAvLyBwcmludGYoImNyYzMyX3BhcnRpYWxfYmxvY2tcbiIpOwoKICB1aW50MzJfdCBjcmMgPSAweDA7CgogIGZvciAodWludDMyX3QgaSA9IDA7IGkgPCA0ICYmIGkgPCBibG9ja19sZW5ndGg7IGkrKykKICB7CiAgICB1aW50OF90IHJlYWxseV9maXJzdF9ieXRlcyA9IGJ5dGVzX2JlZm9yZSArIGkgPCA0OwogICAgdWludDhfdCBuZXh0X2J5dGUgPSByZWFsbHlfZmlyc3RfYnl0ZXMgPyBkYXRhW2ldIF4gMHhGRiA6IGRhdGFbaV07CiAgICAvLyBwcmludGYoIkFkZGluZyBjaGFyIHZhbCA9ICclMDJ4JyB4b3JlZD0laVxuIiwgbmV4dF9ieXRlLCByZWFsbHlfZmlyc3RfYnl0ZXMpOwogICAgcG9seV9yZW1haW5kZXJfc3RlcChuZXh0X2J5dGUsICZjcmMpOwogIH0KICBmb3IgKHVpbnQzMl90IGkgPSA0OyBpIDwgYmxvY2tfbGVuZ3RoOyBpKyspCiAgewogICAgdWludDhfdCBuZXh0X2J5dGUgPSBkYXRhW2ldOwogICAgLy8gcHJpbnRmKCJBZGRpbmcgY2hhciBwbGFpbiAnJWMnXG4iLCBuZXh0X2J5dGUpOwogICAgcG9seV9yZW1haW5kZXJfc3RlcChuZXh0X2J5dGUsICZjcmMpOwogIH07CgogIC8vIHByaW50ZigiUGFydGlhbCBibG9jayBieXRlc19hZnRlcj0laVxuIiwgYnl0ZXNfYWZ0ZXIpOwoKICB1aW50MzJfdCB0b3RhbF9sZW5ndGggPSBieXRlc19iZWZvcmUgKyBibG9ja19sZW5ndGggKyBieXRlc19hZnRlcjsKICB1aW50OF90IHNoaWZ0X3Bvd2VyID0gdG90YWxfbGVuZ3RoID49IDQgPyA0IDogdG90YWxfbGVuZ3RoOwoKICAvLyBwcmludGYoIlNoaWZ0IHBvd2VyIGlzICVpXG4iLCBzaGlmdF9wb3dlcik7CiAgdWludDMyX3QgY3JjX3NoaWZ0ID0gcG9seV9wb3dlcl9vZl9uKGJ5dGVzX2FmdGVyICsgc2hpZnRfcG93ZXIpOwoKICBjcmMgPSBwb2x5X211bHRpcGxlKGNyYywgY3JjX3NoaWZ0KTsKCiAgLy8gcHJpbnRmKCJcbiIpOwoKICByZXR1cm4gY3JjOwp9Cgp1aW50MzJfdCBDUkMzMl9JTklUSUFMID0gMHgwOwoKdWludDMyX3QgY3JjMzJfYmxvY2tfY29tYmluZSh1aW50MzJfdCBjcmMxLCB1aW50MzJfdCBjcmMyKQp7CiAgcmV0dXJuIGNyYzEgXiBjcmMyOwp9Cgp1aW50MzJfdCBjcmMzMl9maW5hbGxpemUodWludDMyX3QgY3JjKQp7CiAgcmV0dXJuIGNyYyBeIDB4RkZGRkZGRkY7Cn07","base64").toString(),W=I("aW50IGZ1bmMxKGludCBpKQp7CiAgcmV0dXJuIGkgKyAxOwp9Cg==","base64").toString(),Z=document.getElementById("src");document.getElementById("compile").onclick=o;var K=document.getElementById("main1"),p=document.getElementById("main2"),V=document.getElementById("log");function a(I){var g=document.createElement("div");g.innerHTML=I,V.appendChild(g)}function o(){var I=Z.value;K.style.display="none",p.style.display="",a("=== Source file ==="),I.split("\n").forEach(function(I,g){return a(G.default(""+(g+1),5," ")+"   "+I)});try{var g=new A.Scanner(l.createScannerFunc(I)),C=B.readTranslationUnit(g),X=d.emit(C);X.warnings.length>0&&(a("Warnings:"),X.warnings.forEach(function(I){return a("  "+I.msg+" at "+I.line+":"+I.pos)})),a(" "),a("=== ast ==="),b.writeAst(C,a),a(" "),a("=== WebAssembly text ==="),X.moduleCode.forEach(function(I){return a(I)})}catch(W){var i={name:W.name,message:W.message,line:W.location.line,pos:W.location.pos,length:W.location.length};a(i.name+" "+i.message+" at "+i.line+":"+i.pos+" len="+i.length),a(""),a(W.stack)}}document.getElementById("back").onclick=function(){V.innerHTML="",K.style.display="",p.style.display="none"},document.getElementById("load_simple").onclick=function(){Z.value=W},document.getElementById("load_aes").onclick=function(){Z.value=X},document.getElementById("load_crc32").onclick=function(){Z.value=i},Z.value=W;
},{"fs":"rDCW","../core/scanner":"ydoQ","../core/scanner.func":"Ncnj","../core/parser":"sf96","../core/emitter":"uJXE","pad":"QMHA","./ast":"FADL","buffer":"dskh"}]},{},["QCba"], null)
//# sourceMappingURL=/web.013c8edf.js.map